module.exports=function(t){var e={};function a(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(r,o,function(e){return t[e]}.bind(null,o));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=21)}([function(t,e){t.exports=flarum.core.compat.Model},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["components/Button"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionComposer"]},function(t,e){t.exports=flarum.core.compat["utils/mixin"]},function(t,e){t.exports=flarum.core.compat["components/Modal"]},function(t,e){},function(t,e){t.exports=flarum.core.compat.app},function(t,e){t.exports=flarum.core.compat["models/User"]},function(t,e){t.exports=flarum.core.compat["models/Discussion"]},,,function(t,e,a){"use strict";var r=a(7),o=a.n(r),n=a(1),i=a(3),s=a.n(i),u=a(0),l=a.n(u);function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var d=a(4),p=a.n(d),D=function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.apiEndpoint=function(){return"/reflar/polls"+(this.exists?"/"+this.data.id:"")},e}(p()(l.a,{question:l.a.attribute("question"),isEnded:l.a.attribute("isEnded"),endDate:l.a.attribute("endDate"),isPublic:l.a.attribute("isPublic"),answers:l.a.hasMany("answers"),votes:l.a.hasMany("votes")})),h=function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.apiEndpoint=function(){return"/reflar/polls/answers"+(this.exists?"/"+this.data.id:"")},e}(p()(l.a,{answer:l.a.attribute("answer"),votes:l.a.attribute("votes"),percent:l.a.attribute("percent")})),f=function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.apiEndpoint=function(){return"/reflar/polls/votes"+(this.exists?"/"+this.data.id:"")},e}(p()(l.a,{poll_id:l.a.attribute("poll_id"),user_id:l.a.attribute("user_id"),option_id:l.a.attribute("option_id"),user:l.a.hasOne("user")})),g=a(9),M=a.n(g),y=a(8),b=a.n(y),C=a(13),v=a.n(C);function _(){Object(n.extend)(M.a.prototype,"badges",function(t){this.Poll()&&t.add("poll",v.a.component({type:"poll",label:app.translator.trans("reflar-polls.forum.tooltip.badge"),icon:"fa fa-signal"}),5)})}var T=a(14),F=a.n(T),S=a(2),A=a.n(S),k=a(5),I=a.n(k),w=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var a=e.prototype;return a.init=function(){t.prototype.init.call(this),this.answers=this.props.poll.answers(),this.question=m.prop(this.props.poll.question()),this.pollCreator=this.props.poll.store.data.users[Object.keys(this.props.poll.store.data.users)[0]],this.newAnswer=m.prop(""),this.endDate=m.prop(" UTC"===this.props.poll.endDate()?"":this.getDateTime(new Date(this.props.poll.endDate())))},a.className=function(){return"PollDiscussionModal Modal--small"},a.title=function(){return app.translator.trans("reflar-polls.forum.modal.edit_title")},a.getDateTime=function(t){void 0===t&&(t=new Date),isNaN(t)&&(t=new Date);var e=[t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes()];return e.forEach(function(t,a){t<10&&(e[a]="0"+t)}),t.getFullYear()+"-"+e[0]+"-"+e[1]+" "+e[2]+":"+e[3]},a.config=function(t){var e=this;t||$("#dtBox").DateTimePicker({init:function(){this},dateTimeFormat:"yyyy-MM-dd HH:mm",minDateTime:this.getDateTime(),settingValueOfElement:function(t){e.endDate(t),app.request({method:"PATCH",url:app.forum.attribute("apiUrl")+"/reflar/polls/"+e.props.poll.id()+"/endDate",data:{date:new Date(t),user_id:e.pollCreator.id()}})}})},a.content=function(){var t=this;return[m("div",{className:"Modal-body"},m("div",{className:"PollDiscussionModal-form"},m("div",null,m("fieldset",null,m("input",{type:"text",name:"question",className:"FormControl",value:this.question(),oninput:m.withAttr("value",this.updateQuestion.bind(this)),placeholder:app.translator.trans("reflar-polls.forum.modal.question_placeholder")}))),m("h4",null,app.translator.trans("reflar-polls.forum.modal.answers")),this.answers.map(function(e,a){return m("div",{className:"Form-group"},m("fieldset",{className:"Poll-answer-input"},m("input",{className:"FormControl",type:"text",oninput:m.withAttr("value",t.updateAnswer.bind(t,e)),value:e.answer(),placeholder:app.translator.trans("reflar-polls.forum.modal.answer_placeholder")+" #"+(a+1)})),a+1>=3?A.a.component({type:"button",className:"Button Button--warning Poll-answer-button",icon:"fa fa-minus",onclick:a+1>=3?t.removeOption.bind(t,e):""}):"",m("div",{className:"clear"}))}),m("div",{className:"Form-group"},m("fieldset",{className:"Poll-answer-input"},m("input",{className:"FormControl",type:"text",oninput:m.withAttr("value",this.newAnswer),placeholder:app.translator.trans("reflar-polls.forum.modal.answer_placeholder")+" #"+(this.answers.length+1)})),A.a.component({type:"button",className:"Button Button--warning Poll-answer-button",icon:"fa fa-plus",onclick:this.addAnswer.bind(this)})),m("div",{className:"clear"}),m("div",{style:"margin-top: 20px",className:"Form-group"},m("fieldset",{style:"margin-bottom: 15px",className:"Poll-answer-input"},m("input",{style:"opacity: 1",className:"FormControl",type:"text","data-field":"datetime",value:this.endDate()||app.translator.trans("reflar-polls.forum.modal.date_placeholder"),id:"dtInput","data-min":this.getDateTime(),readonly:!0}),m("div",{id:"dtBox"}))),m("div",{className:"clear"})),A.a.component({className:"Button Button--primary PollModal-SubmitButton",children:app.translator.trans("reflar-polls.forum.modal.submit"),onclick:function(){app.modal.close()}}))]},a.onhide=function(){this.props.poll.answers=m.prop(this.answers),this.props.poll.question=this.question,""!==this.endDate()&&(this.props.poll.endDate=this.endDate),m.redraw.strategy("all")},a.addAnswer=function(t){var e=this,a={answer:this.newAnswer(),poll_id:this.props.poll.id(),user_id:this.pollCreator.id()};this.answers.length<10?app.store.createRecord("answers").save(a).then(function(t){e.answers.push(t),e.newAnswer(""),m.redraw.strategy("all"),m.redraw()}):alert(app.translator.trans("reflar-polls.forum.modal.max"))},a.removeOption=function(t){var e=this;app.request({method:"DELETE",url:app.forum.attribute("apiUrl")+"/reflar/polls/answers/"+t.data.id,data:this.pollCreator.id()}),this.answers.some(function(a,r){if(a.data.id===t.data.id)return e.answers.splice(r,1),!0})},a.updateAnswer=function(t,e){app.request({method:"PATCH",url:app.forum.attribute("apiUrl")+"/reflar/polls/answers/"+t.data.id,data:{answer:e,user_id:this.pollCreator.id()}}),this.answers.some(function(a){if(a.data.id===t.data.id)return a.data.attributes.answer=e,!0})},a.updateQuestion=function(t){if(""===t)return alert(app.translator.trans("reflar-polls.forum.modal.include_question")),void this.question("");app.request({method:"PATCH",url:app.forum.attribute("apiUrl")+"/reflar/polls/"+this.props.poll.id(),data:{question:t,user_id:this.pollCreator.id()}}),this.question=m.prop(t),m.redraw()},e}(I.a),V=function(){Object(n.extend)(F.a,"moderationControls",function(t,e){var a=e.discussion(),r=a.Poll(),o=app.session.user;a.Poll()&&(void 0!==o&&o.canEditPolls()||e.user().canSelfEditPolls()&&e.user().id()===o.id())&&1===e.number()&&(r.isEnded()||t.add("editPoll",[m(A.a,{icon:"fa fa-check-square",className:"reflar-PollButton",onclick:function(){app.modal.show(new w({post:e,poll:r}))}},app.translator.trans("reflar-polls.forum.moderation.edit"))]),t.add("removePoll",[m(A.a,{icon:"fa fa-trash",className:"reflar-PollButton",onclick:function(){confirm(app.translator.trans("reflar-polls.forum.moderation.delete_confirm"))&&app.request({url:app.forum.attribute("apiUrl")+"/reflar/polls/"+r.id(),method:"DELETE",data:r.store.data.users[Object.keys(r.store.data.users)[0]].id()}).then(function(){location.reload()})}},app.translator.trans("reflar-polls.forum.moderation.delete"))]))})},H=a(15),P=a.n(H),x=a(16),E=a.n(x),B=a(17),O=a.n(B),N=a(18),j=a.n(N),Y=a(19),q=a.n(Y),U=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var a=e.prototype;return a.init=function(){"function"==typeof this.props.votes&&(this.props.votes=this.props.votes())},a.className=function(){return"Modal--small"},a.title=function(){return app.translator.trans("reflar-polls.forum.votes_modal.title")},a.content=function(){var t=this;return"function"==typeof this.props.answers?this.answers=this.props.answers():this.answers=this.props.answers,m("div",{className:"Modal-body"},m("ul",{className:"VotesModal-list"},this.answers.map(function(e){var a=t.props.votes.filter(function(t){return parseInt(e.id())===parseInt(t.option_id())}).map(function(t){return t.user()});return m("div",null,m("h2",null,e.answer()+":"),a.length?a.map(function(t){var e=t&&{href:app.route.user(t),config:m.route};return m("li",null,m("a",e,j()(t)," ",q()(t)))}):m("h4",{style:"color: #000"},app.translator.trans("reflar-polls.forum.modal.no_voters")))})))},e}(I.a),L=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var a=e.prototype;return a.init=function(){var t=this;this.poll=this.props.poll,this.votes=this.poll.votes(),this.voted=m.prop(!1),this.user=app.session.user,this.answers=[],this.poll.answers().forEach(function(e){t.answers[e.id()]=e}),void 0!==this.user&&(this.user.canVote()?app.store.find("reflar/polls/votes",{poll_id:this.poll.id(),user_id:this.user.id()}).then(function(e){void 0!==e[0]?t.voted(e[0]):t.poll.isEnded()&&t.voted(!0),m.redraw()}):this.voted(!0))},a.showVoters=function(){app.modal.show(new U(this.poll))},a.onError=function(t,e){t.srcElement.checked=!1,app.alerts.show(e.alert)},a.changeVote=function(t,e){var a=this,r=this.voted().id(),o=this.voted().option_id();app.request({method:"PATCH",url:app.forum.attribute("apiUrl")+"/reflar/polls/votes/"+t.id(),errorHandler:this.onError.bind(this,e),data:{option_id:t.id(),poll_id:this.poll.id()}}).then(function(e){a.answers[t.id()].data.attributes.votes++,a.answers[o].data.attributes.votes--,a.votes.some(function(t,o){t.data.id===r&&(a.votes[o].data.attributes.option_id=e.data.attributes.option_id)}),a.poll.data.relationships.votes.data.some(function(t){if("function"==typeof t.id)var a=t.id();else a=t.id;if(r===parseInt(a))return t.option_id=m.prop(e.data.attributes.option_id),!0}),a.poll.votes=m.prop(a.votes),m.redraw.strategy("all"),m.redraw()})},a.view=function(){var t=this;return!1!==this.voted()?m("div",null,m("h3",null,this.poll.question()),this.answers.map(function(e){var a=!1;!0!==t.voted()&&(a=parseInt(t.voted().option_id())===e.data.attributes.id,m.redraw());var r=Math.round(e.votes()/t.poll.votes().length*100);return m("div",{className:"PollOption PollVoted"},m("div",{title:e.votes()>=1?e.votes()+" "+app.translator.trans("reflar-polls.forum.tooltip.vote"):e.votes()+" "+app.translator.trans("reflar-polls.forum.tooltip.votes"),className:"PollBar","data-selected":a,config:function(t){$(t).tooltip({placement:"right"})}},t.poll.isEnded()||!0===t.voted?"":m("label",{className:"checkbox"},a?m("input",{onchange:t.changeVote.bind(t,e),type:"checkbox",checked:!0}):m("input",{onchange:t.changeVote.bind(t,e),type:"checkbox"}),m("span",{className:"checkmark"})),m("div",{style:"--width: "+r+"%",className:"PollOption-active"}),m("label",{style:t.poll.isEnded()?"":"margin-left: 25px",className:"PollAnswer"},m("span",null,e.answer())),m("label",null,m("span",{className:100!==r?"PollPercent PollPercent--option":"PollPercent"},r,"%"))))}),m("div",{className:"clear"}),this.poll.isPublic()?A.a.component({className:"Button Button--primary PublicPollButton",children:app.translator.trans("reflar-polls.forum.public_poll"),onclick:function(){app.modal.show(new U({votes:t.votes,answers:t.answers}))}}):"",m("div",{className:"clear"}),this.user.canVote()?this.poll.isEnded()?m("div",{className:"helpText PollInfoText"},app.translator.trans("reflar-polls.forum.poll_ended")):isNaN(new Date(this.poll.endDate()))?"":m("div",{className:"helpText PollInfoText"},m("i",{class:"icon fa fa-clock-o"})," ",app.translator.trans("reflar-polls.forum.days_remaining",{time:moment(this.poll.endDate()).fromNow()})):m("div",{className:"helpText PollInfoText"},app.translator.trans("reflar-polls.forum.no_permission")),m("div",{className:"clear"})):m("div",null,m("h3",null,this.poll.question()),this.answers.map(function(e){return m("div",{className:"PollOption"},m("div",{className:"PollBar"},m("label",{className:"checkbox"},m("input",{type:"checkbox",onchange:t.addVote.bind(t,e)}),m("span",null,e.answer()),m("span",{className:"checkmark"}))))}),m("div",{className:"clear"}),this.poll.isPublic()&&void 0!==app.session.user?A.a.component({className:"Button Button--primary PublicPollButton",children:app.translator.trans("reflar-polls.forum.public_poll"),onclick:function(){app.modal.show(new U(t.poll))}}):"",this.poll.isEnded()?m("div",{className:"helpText PollInfoText"},app.translator.trans("reflar-polls.forum.poll_ended")):isNaN(new Date(this.poll.endDate()))?"":m("div",{className:"helpText PollInfoText"},m("i",{class:"icon fa fa-clock-o"})," ",app.translator.trans("reflar-polls.forum.days_remaining",{time:moment(this.poll.endDate()).fromNow()})))},a.addVote=function(t,e){var a=this;void 0===this.user?(app.modal.show(new O.a),e.srcElement.checked=!1):app.store.createRecord("votes").save({poll_id:this.poll.id(),option_id:t.id()}).then(function(e){a.answers[t.id()].data.attributes.votes++,a.voted(e),a.poll.data.relationships.votes.data.push(e),a.votes.push(e),m.redraw()})},e}(E.a),W=a(20),J=a.n(W),z=(a(22),function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var a=e.prototype;return a.init=function(){if(t.prototype.init.call(this),this.answer=[],this.question=m.prop(""),this.answer[0]=m.prop(""),this.answer[1]=m.prop(""),this.endDate=m.prop(),this.publicPoll=m.prop(!1),this.props.poll){var e=this.props.poll;this.answer=Object.values(e.answers),this.question(e.question),this.endDate(isNaN(e.endDate)?"":this.getDateTime(e.endDate)),this.publicPoll(e.publicPoll)}},a.className=function(){return"PollDiscussionModal Modal--small"},a.getDateTime=function(t){void 0===t&&(t=new Date),isNaN(t)&&(t=new Date);var e=[t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes()];return e.forEach(function(t,a){t<10&&(e[a]="0"+t)}),t.getFullYear()+"-"+e[0]+"-"+e[1]+" "+e[2]+":"+e[3]},a.title=function(){return app.translator.trans("reflar-polls.forum.modal.add_title")},a.config=function(){var t=this;$("#dtBox").DateTimePicker({init:function(){this},dateTimeFormat:"yyyy-MM-dd HH:mm",minDateTime:this.getDateTime(),settingValueOfElement:function(e){t.endDate(e)}})},a.content=function(){var t=this;return[m("div",{className:"Modal-body"},m("div",{className:"PollDiscussionModal-form"},m("div",null,m("fieldset",null,m("input",{type:"text",name:"question",className:"FormControl",bidi:this.question,placeholder:app.translator.trans("reflar-polls.forum.modal.question_placeholder")}))),m("h4",null,app.translator.trans("reflar-polls.forum.modal.answers")),Object.keys(this.answer).map(function(e,a){return m("div",{className:""===t.answer[a+1]?"Form-group hide":"Form-group"},m("fieldset",{className:"Poll-answer-input"},m("input",{className:"FormControl",type:"text",name:"answer"+(a+1),bidi:t.answer[a],placeholder:app.translator.trans("reflar-polls.forum.modal.answer_placeholder")+" #"+(a+1)}),m("div",{id:"dtBox"})),a+1>=3?A.a.component({type:"button",className:"Button Button--warning Poll-answer-button",icon:"fa fa-minus",onclick:a+1>=3?t.removeOption.bind(t,a):""}):"",m("div",{className:"clear"}))}),A.a.component({className:"Button Button--primary PollModal-Button",children:app.translator.trans("reflar-polls.forum.modal.add"),onclick:this.addOption.bind(this)}),m("div",{className:"Form-group"},m("fieldset",{style:"margin-bottom: 15px",className:"Poll-answer-input"},m("input",{style:"opacity: 1; color: inherit",className:"FormControl",type:"text","data-field":"datetime",value:this.endDate()||app.translator.trans("reflar-polls.forum.modal.date_placeholder"),id:"dtInput","data-min":this.getDateTime(),readonly:!0})),m("div",{className:"clear"}),J.a.component({state:this.publicPoll()||!1,children:app.translator.trans("reflar-polls.forum.modal.switch"),onchange:this.publicPoll}),m("div",{className:"clear"}),A.a.component({type:"submit",className:"Button Button--primary PollModal-SubmitButton",children:app.translator.trans("reflar-polls.forum.modal.submit")}))))]},a.addOption=function(){this.answer.length<11?this.answer.push(m.prop("")):alert(app.translator.trans("reflar-polls.forum.modal.max"))},a.removeOption=function(t){var e=this;this.answer.forEach(function(a,r){r===t&&e.answer.splice(r,1)})},a.objectSize=function(t){var e,a=0;for(e in t)""!==t[e]&&a++;return a},a.onsubmit=function(t){t.preventDefault();var e={question:this.question(),answers:{},endDate:new Date(this.endDate()),publicPoll:this.publicPoll()};""!==this.question()?(this.answer.map(function(t,a){""!==t()&&(e.answers[a]=t)}),this.objectSize(e.answers)<2?alert(app.translator.trans("reflar-polls.forum.modal.min")):(Object(n.extend)(s.a.prototype,"data",function(t){t.poll=e}),app.modal.close(),m.redraw.strategy("none"))):alert(app.translator.trans("reflar-polls.forum.modal.include_question"))},e}(I.a));o.a.initializers.add("reflar-polls",function(t){t.store.models.answers=h,t.store.models.questions=D,t.store.models.votes=f,M.a.prototype.Poll=l.a.hasOne("Poll"),b.a.prototype.canEditPolls=l.a.attribute("canEditPolls"),b.a.prototype.canStartPolls=l.a.attribute("canStartPolls"),b.a.prototype.canSelfEditPolls=l.a.attribute("canSelfEditPolls"),b.a.prototype.canVote=l.a.attribute("canVote"),s.a.prototype.addPoll=function(e){t.modal.show(new z(e))},Object(n.extend)(s.a.prototype,"headerItems",function(e){t.session.user.canStartPolls()&&e.add("polls",m("a",{className:"DiscussionComposer-poll",onclick:this.addPoll.bind(this,this.data())},this.data().poll?m("span",{className:"PollLabel"},t.translator.trans("reflar-polls.forum.composer_discussion.edit")):m("span",{className:"PollLabel"},t.translator.trans("reflar-polls.forum.composer_discussion.add_poll"))),1)}),Object(n.extend)(s.a.prototype,"onsubmit",function(){Object(n.extend)(s.a.prototype,"data",function(t){t.poll=void 0})}),_(),Object(n.extend)(P.a.prototype,"content",function(t){var e=this.props.post.discussion();e.Poll()&&1===this.props.post.number()&&!this.props.post.isHidden()&&(this.subtree.invalidate(),t.push(L.component({poll:e.Poll()})))}),V()})},function(t,e){t.exports=flarum.core.compat["components/Badge"]},function(t,e){t.exports=flarum.core.compat["utils/PostControls"]},function(t,e){t.exports=flarum.core.compat["components/CommentPost"]},function(t,e){t.exports=flarum.core.compat.Component},function(t,e){t.exports=flarum.core.compat["components/LogInModal"]},function(t,e){t.exports=flarum.core.compat["helpers/avatar"]},function(t,e){t.exports=flarum.core.compat["helpers/username"]},function(t,e){t.exports=flarum.core.compat["components/Switch"]},function(t,e,a){"use strict";a.r(e);var r=a(6);for(var o in r)"default"!==o&&function(t){a.d(e,t,function(){return r[t]})}(o);a(12)},function(t,e,a){var r,o,n;Object.keys||(Object.keys=function(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push(a);return e}),$.DateTimePicker=$.DateTimePicker||{name:"DateTimePicker",i18n:{},defaults:{mode:"date",defaultDate:null,dateSeparator:"-",timeSeparator:":",timeMeridiemSeparator:" ",dateTimeSeparator:" ",monthYearSeparator:" ",dateTimeFormat:"dd-MM-yyyy HH:mm",dateFormat:"dd-MM-yyyy",timeFormat:"HH:mm",maxDate:null,minDate:null,maxTime:null,minTime:null,maxDateTime:null,minDateTime:null,shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],labels:null,minuteInterval:1,roundOffMinutes:!0,secondsInterval:1,roundOffSeconds:!0,showHeader:!0,titleContentDate:"Set Date",titleContentTime:"Set Time",titleContentDateTime:"Set Date & Time",buttonsToDisplay:["HeaderCloseButton","SetButton","ClearButton"],setButtonContent:"Set",clearButtonContent:"Clear",incrementButtonContent:"+",decrementButtonContent:"-",setValueInTextboxOnEveryClick:!1,readonlyInputs:!1,animationDuration:400,touchHoldInterval:300,captureTouchHold:!1,mouseHoldInterval:50,captureMouseHold:!1,isPopup:!0,parentElement:"body",isInline:!1,inputElement:null,language:"",init:null,addEventHandlers:null,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null,buttonClicked:null,settingValueOfElement:null,formatHumanDate:null,parseDateTimeString:null,formatDateTimeString:null},dataObject:{dCurrentDate:new Date,iCurrentDay:0,iCurrentMonth:0,iCurrentYear:0,iCurrentHour:0,iCurrentMinutes:0,iCurrentSeconds:0,sCurrentMeridiem:"",iMaxNumberOfDays:0,sDateFormat:"",sTimeFormat:"",sDateTimeFormat:"",dMinValue:null,dMaxValue:null,sArrInputDateFormats:[],sArrInputTimeFormats:[],sArrInputDateTimeFormats:[],bArrMatchFormat:[],bDateMode:!1,bTimeMode:!1,bDateTimeMode:!1,oInputElement:null,iTabIndex:0,bElemFocused:!1,bIs12Hour:!1,sTouchButton:null,iTouchStart:null,oTimeInterval:null,bIsTouchDevice:"ontouchstart"in document.documentElement}},$.cf={_isValid:function(t){return void 0!==t&&null!==t&&""!==t},_compare:function(t,e){return!(!(void 0!==t&&null!==t)||!(void 0!==e&&null!==e))&&t.toLowerCase()===e.toLowerCase()}},o=[a(23)],void 0===(n="function"==typeof(r=function(t){"use strict";function e(e,a){this.element=e;var r="";r=t.cf._isValid(a)&&t.cf._isValid(a.language)?a.language:t.DateTimePicker.defaults.language,this.settings=t.extend({},t.DateTimePicker.defaults,t.DateTimePicker.i18n[r],a),this.options=a,this.oData=t.extend({},t.DateTimePicker.dataObject),this._defaults=t.DateTimePicker.defaults,this._name=t.DateTimePicker.name,this.init()}t.fn.DateTimePicker=function(a){var r,o,n=t(this).data(),i=n?Object.keys(n):[];if("string"!=typeof a)return this.each(function(){t.removeData(this,"plugin_DateTimePicker"),t.data(this,"plugin_DateTimePicker")||t.data(this,"plugin_DateTimePicker",new e(this,a))});if(t.cf._isValid(n))if("destroy"===a){if(i.length>0)for(r in i)if(-1!==(o=i[r]).search("plugin_DateTimePicker")){t(document).unbind("click.DateTimePicker keydown.DateTimePicker keyup.DateTimePicker"),t(this).children().remove(),t(this).removeData(),t(this).unbind(),t(this).removeClass("dtpicker-overlay dtpicker-mobile dtpicker-inline"),n=n[o];break}}else if("object"===a&&i.length>0)for(r in i)if(-1!==(o=i[r]).search("plugin_DateTimePicker"))return n[o]},e.prototype={init:function(){var e=this;e._setDateFormatArray(),e._setTimeFormatArray(),e._setDateTimeFormatArray(),void 0!==t(e.element).data("parentelement")&&(e.settings.parentElement=t(e.element).data("parentelement")),e.settings.isPopup&&!e.settings.isInline&&(e._createPicker(),t(e.element).addClass("dtpicker-mobile")),e.settings.isInline&&(e._createPicker(),e._showPicker(e.settings.inputElement)),e.settings.init&&e.settings.init.call(e),e._addEventHandlersForInput()},_setDateFormatArray:function(){var t=this;t.oData.sArrInputDateFormats=[];var e="";e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",t.oData.sArrInputDateFormats.push(e),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MM"+t.settings.monthYearSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MMM"+t.settings.monthYearSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MMMM"+t.settings.monthYearSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="yyyy"+t.settings.monthYearSeparator+"MM",t.oData.sArrInputDateFormats.push(e)},_setTimeFormatArray:function(){var t=this;t.oData.sArrInputTimeFormats=[];var e="";e="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",t.oData.sArrInputTimeFormats.push(e),e="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",t.oData.sArrInputTimeFormats.push(e),e="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",t.oData.sArrInputTimeFormats.push(e),e="HH"+t.settings.timeSeparator+"mm",t.oData.sArrInputTimeFormats.push(e)},_setDateTimeFormatArray:function(){var t=this;t.oData.sArrInputDateTimeFormats=[];var e="",a="",r="";e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="HH"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r)},_matchFormat:function(e,a){var r=this;r.oData.bArrMatchFormat=[],r.oData.bDateMode=!1,r.oData.bTimeMode=!1,r.oData.bDateTimeMode=!1;var o,n=[];for(e=t.cf._isValid(e)?e:r.settings.mode,t.cf._compare(e,"date")?(a=t.cf._isValid(a)?a:r.oData.sDateFormat,r.oData.bDateMode=!0,n=r.oData.sArrInputDateFormats):t.cf._compare(e,"time")?(a=t.cf._isValid(a)?a:r.oData.sTimeFormat,r.oData.bTimeMode=!0,n=r.oData.sArrInputTimeFormats):t.cf._compare(e,"datetime")&&(a=t.cf._isValid(a)?a:r.oData.sDateTimeFormat,r.oData.bDateTimeMode=!0,n=r.oData.sArrInputDateTimeFormats),o=0;o<n.length;o++)r.oData.bArrMatchFormat.push(t.cf._compare(a,n[o]))},_setMatchFormat:function(t,e,a){t>0&&this._matchFormat(e,a)},_createPicker:function(){var e=this;e.settings.isInline?t(e.element).addClass("dtpicker-inline"):(t(e.element).addClass("dtpicker-overlay"),t(".dtpicker-overlay").click(function(t){e._hidePicker("")}));var a="";a+="<div class='dtpicker-bg'>",a+="<div class='dtpicker-cont'>",a+="<div class='dtpicker-content'>",a+="<div class='dtpicker-subcontent'>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",t(e.element).html(a)},_addEventHandlersForInput:function(){var e=this;if(!e.settings.isInline){e.oData.oInputElement=null,t(e.settings.parentElement).find("input[type='date'], input[type='time'], input[type='datetime']").each(function(){t(this).attr("data-field",t(this).attr("type")),t(this).attr("type","text")});var a="[data-field='date'], [data-field='time'], [data-field='datetime']";t(e.settings.parentElement).off("focus",a,e._inputFieldFocus).on("focus",a,{obj:e},e._inputFieldFocus),t(e.settings.parentElement).off("click",a,e._inputFieldClick).on("click",a,{obj:e},e._inputFieldClick)}e.settings.addEventHandlers&&e.settings.addEventHandlers.call(e)},_inputFieldFocus:function(t){var e=t.data.obj;e.showDateTimePicker(this),e.oData.bMouseDown=!1},_inputFieldClick:function(e){var a=e.data.obj;t.cf._compare(t(this).prop("tagName"),"input")||a.showDateTimePicker(this),e.stopPropagation()},getDateObjectForInputField:function(e){var a=this;if(t.cf._isValid(e)){var r,o=a._getValueOfElement(e),n=t(e).data("field"),i="";return t.cf._isValid(n)||(n=a.settings.mode),a.settings.formatDateTimeString?r=a.settings.parseDateTimeString.call(a,o,n,i,t(e)):(i=t(e).data("format"),t.cf._isValid(i)||(t.cf._compare(n,"date")?i=a.settings.dateFormat:t.cf._compare(n,"time")?i=a.settings.timeFormat:t.cf._compare(n,"datetime")&&(i=a.settings.dateTimeFormat)),a._matchFormat(n,i),t.cf._compare(n,"date")?r=a._parseDate(o):t.cf._compare(n,"time")?r=a._parseTime(o):t.cf._compare(n,"datetime")&&(r=a._parseDateTime(o))),r}},setDateTimeStringInInputField:function(e,a){var r,o=this;a=a||o.oData.dCurrentDate,t.cf._isValid(e)?(r=[],"string"==typeof e?r.push(e):"object"==typeof e&&(r=e)):r=t.cf._isValid(o.settings.parentElement)?t(o.settings.parentElement).find("[data-field='date'], [data-field='time'], [data-field='datetime']"):t("[data-field='date'], [data-field='time'], [data-field='datetime']"),r.each(function(){var e,r,n,i,s=this;e=t(s).data("field"),t.cf._isValid(e)||(e=o.settings.mode),r="Custom",n=!1,o.settings.formatDateTimeString||(r=t(s).data("format"),t.cf._isValid(r)||(t.cf._compare(e,"date")?r=o.settings.dateFormat:t.cf._compare(e,"time")?r=o.settings.timeFormat:t.cf._compare(e,"datetime")&&(r=o.settings.dateTimeFormat)),n=o.getIs12Hour(e,r)),i=o._setOutput(e,r,n,a,s),o._setValueOfElement(i,t(s))})},getDateTimeStringInFormat:function(t,e,a){return this._setOutput(t,e,this.getIs12Hour(t,e),a)},showDateTimePicker:function(t){var e=this;null!==e.oData.oInputElement?e.settings.isInline||e._hidePicker(0,t):e._showPicker(t)},_setButtonAction:function(t){var e=this;null!==e.oData.oInputElement&&(e._setValueOfElement(e._setOutput()),t?(e.settings.buttonClicked&&e.settings.buttonClicked.call(e,"TAB",e.oData.oInputElement),e.settings.isInline||e._hidePicker(0)):e.settings.isInline||e._hidePicker(""))},_setOutput:function(e,a,r,o,n){var i=this;o=t.cf._isValid(o)?o:i.oData.dCurrentDate,r=r||i.oData.bIs12Hour;var s,u=i._setVariablesForDate(o,!0,!0),m="",l=i._formatDate(u),c=i._formatTime(u),d=t.extend({},l,c),p="",D="",h=Function.length;return i.settings.formatDateTimeString?m=i.settings.formatDateTimeString.call(i,d,e,a,n):(i._setMatchFormat(h,e,a),i.oData.bDateMode?i.oData.bArrMatchFormat[0]?m=d.dd+i.settings.dateSeparator+d.MM+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[1]?m=d.MM+i.settings.dateSeparator+d.dd+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[2]?m=d.yyyy+i.settings.dateSeparator+d.MM+i.settings.dateSeparator+d.dd:i.oData.bArrMatchFormat[3]?m=d.dd+i.settings.dateSeparator+d.monthShort+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[4]?m=d.MM+i.settings.monthYearSeparator+d.yyyy:i.oData.bArrMatchFormat[5]?m=d.monthShort+i.settings.monthYearSeparator+d.yyyy:i.oData.bArrMatchFormat[6]?m=d.month+i.settings.monthYearSeparator+d.yyyy:i.oData.bArrMatchFormat[7]&&(m=d.yyyy+i.settings.monthYearSeparator+d.MM):i.oData.bTimeMode?i.oData.bArrMatchFormat[0]?m=d.hh+i.settings.timeSeparator+d.mm+i.settings.timeSeparator+d.ss+i.settings.timeMeridiemSeparator+d.ME:i.oData.bArrMatchFormat[1]?m=d.HH+i.settings.timeSeparator+d.mm+i.settings.timeSeparator+d.ss:i.oData.bArrMatchFormat[2]?m=d.hh+i.settings.timeSeparator+d.mm+i.settings.timeMeridiemSeparator+d.ME:i.oData.bArrMatchFormat[3]&&(m=d.HH+i.settings.timeSeparator+d.mm):i.oData.bDateTimeMode&&(i.oData.bArrMatchFormat[0]||i.oData.bArrMatchFormat[1]||i.oData.bArrMatchFormat[8]||i.oData.bArrMatchFormat[9]?p=d.dd+i.settings.dateSeparator+d.MM+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[2]||i.oData.bArrMatchFormat[3]||i.oData.bArrMatchFormat[10]||i.oData.bArrMatchFormat[11]?p=d.MM+i.settings.dateSeparator+d.dd+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[4]||i.oData.bArrMatchFormat[5]||i.oData.bArrMatchFormat[12]||i.oData.bArrMatchFormat[13]?p=d.yyyy+i.settings.dateSeparator+d.MM+i.settings.dateSeparator+d.dd:(i.oData.bArrMatchFormat[6]||i.oData.bArrMatchFormat[7]||i.oData.bArrMatchFormat[14]||i.oData.bArrMatchFormat[15])&&(p=d.dd+i.settings.dateSeparator+d.monthShort+i.settings.dateSeparator+d.yyyy),s=i.oData.bArrMatchFormat[0]||i.oData.bArrMatchFormat[1]||i.oData.bArrMatchFormat[2]||i.oData.bArrMatchFormat[3]||i.oData.bArrMatchFormat[4]||i.oData.bArrMatchFormat[5]||i.oData.bArrMatchFormat[6]||i.oData.bArrMatchFormat[7],D=r?s?d.hh+i.settings.timeSeparator+d.mm+i.settings.timeSeparator+d.ss+i.settings.timeMeridiemSeparator+d.ME:d.hh+i.settings.timeSeparator+d.mm+i.settings.timeMeridiemSeparator+d.ME:s?d.HH+i.settings.timeSeparator+d.mm+i.settings.timeSeparator+d.ss:d.HH+i.settings.timeSeparator+d.mm,""!==p&&""!==D&&(m=p+i.settings.dateTimeSeparator+D)),i._setMatchFormat(h)),m},_clearButtonAction:function(){var t=this;null!==t.oData.oInputElement&&t._setValueOfElement(""),t.settings.isInline||t._hidePicker("")},_setOutputOnIncrementOrDecrement:function(){var e=this;t.cf._isValid(e.oData.oInputElement)&&e.settings.setValueInTextboxOnEveryClick&&e._setValueOfElement(e._setOutput())},_showPicker:function(e){var a=this;if(null===a.oData.oInputElement){a.oData.oInputElement=e,a.oData.iTabIndex=parseInt(t(e).attr("tabIndex"));var r,o,n,i,s,u,m,l,c=t(e).data("field")||"",d=t(e).data("min")||"",p=t(e).data("max")||"",D=t(e).data("format")||"",h=t(e).data("view")||"",f=t(e).data("startend")||"",g=t(e).data("startendelem")||"",M=a._getValueOfElement(e)||"";if(""!==h&&(t.cf._compare(h,"Popup")?a.setIsPopup(!0):a.setIsPopup(!1)),!a.settings.isPopup&&!a.settings.isInline){a._createPicker();var y=t(a.oData.oInputElement).offset().top+t(a.oData.oInputElement).outerHeight(),b=t(a.oData.oInputElement).offset().left,C=t(a.oData.oInputElement).outerWidth();t(a.element).css({position:"absolute",top:y,left:b,width:C,height:"auto"})}a.settings.beforeShow&&a.settings.beforeShow.call(a,e),c=t.cf._isValid(c)?c:a.settings.mode,a.settings.mode=c,t.cf._isValid(D)||(t.cf._compare(c,"date")?D=a.settings.dateFormat:t.cf._compare(c,"time")?D=a.settings.timeFormat:t.cf._compare(c,"datetime")&&(D=a.settings.dateTimeFormat)),a._matchFormat(c,D),a.oData.dMinValue=null,a.oData.dMaxValue=null,a.oData.bIs12Hour=!1,a.oData.bDateMode?(r=d||a.settings.minDate,o=p||a.settings.maxDate,a.oData.sDateFormat=D,t.cf._isValid(r)&&(a.oData.dMinValue=a._parseDate(r)),t.cf._isValid(o)&&(a.oData.dMaxValue=a._parseDate(o)),""!==f&&(t.cf._compare(f,"start")||t.cf._compare(f,"end"))&&""!==g&&t(g).length>=1&&""!==(n=a._getValueOfElement(t(g)))&&(i=a.settings.parseDateTimeString?a.settings.parseDateTimeString.call(a,n,c,D,t(g)):a._parseDate(n),t.cf._compare(f,"start")?t.cf._isValid(o)?a._compareDates(i,a.oData.dMaxValue)<0&&(a.oData.dMaxValue=new Date(i)):a.oData.dMaxValue=new Date(i):t.cf._compare(f,"end")&&(t.cf._isValid(r)?a._compareDates(i,a.oData.dMinValue)>0&&(a.oData.dMinValue=new Date(i)):a.oData.dMinValue=new Date(i))),a.settings.parseDateTimeString?a.oData.dCurrentDate=a.settings.parseDateTimeString.call(a,M,c,D,t(e)):a.oData.dCurrentDate=a._parseDate(M),a.oData.dCurrentDate.setHours(0),a.oData.dCurrentDate.setMinutes(0),a.oData.dCurrentDate.setSeconds(0)):a.oData.bTimeMode?(r=d||a.settings.minTime,o=p||a.settings.maxTime,a.oData.sTimeFormat=D,a.oData.bIs12Hour=a.getIs12Hour(),t.cf._isValid(r)&&(a.oData.dMinValue=a._parseTime(r),t.cf._isValid(o)||(a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[0]?o="11:59:59 PM":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[1]?o="23:59:59":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[2]?o="11:59 PM":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[3]&&(o="23:59"),a.oData.dMaxValue=a._parseTime(o))),t.cf._isValid(o)&&(a.oData.dMaxValue=a._parseTime(o),t.cf._isValid(r)||(a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[0]?r="12:00:00 AM":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[1]?r="00:00:00":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[2]?r="12:00 AM":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[3]&&(r="00:00"),a.oData.dMinValue=a._parseTime(r))),""!==f&&(t.cf._compare(f,"start")||t.cf._compare(f,"end"))&&""!==g&&t(g).length>=1&&""!==(s=a._getValueOfElement(t(g)))&&(a.settings.parseDateTimeString?i=a.settings.parseDateTimeString.call(a,s,c,D,t(g)):u=a._parseTime(s),t.cf._compare(f,"start")?(u.setMinutes(u.getMinutes()-1),t.cf._isValid(o)?2===a._compareTime(u,a.oData.dMaxValue)&&(a.oData.dMaxValue=new Date(u)):a.oData.dMaxValue=new Date(u)):t.cf._compare(f,"end")&&(u.setMinutes(u.getMinutes()+1),t.cf._isValid(r)?3===a._compareTime(u,a.oData.dMinValue)&&(a.oData.dMinValue=new Date(u)):a.oData.dMinValue=new Date(u))),a.settings.parseDateTimeString?a.oData.dCurrentDate=a.settings.parseDateTimeString.call(a,M,c,D,t(e)):a.oData.dCurrentDate=a._parseTime(M)):a.oData.bDateTimeMode&&(r=d||a.settings.minDateTime,o=p||a.settings.maxDateTime,a.oData.sDateTimeFormat=D,a.oData.bIs12Hour=a.getIs12Hour(),t.cf._isValid(r)&&(a.oData.dMinValue=a._parseDateTime(r)),t.cf._isValid(o)&&(a.oData.dMaxValue=a._parseDateTime(o)),""!==f&&(t.cf._compare(f,"start")||t.cf._compare(f,"end"))&&""!==g&&t(g).length>=1&&""!==(m=a._getValueOfElement(t(g)))&&(l=a.settings.parseDateTimeString?a.settings.parseDateTimeString.call(a,m,c,D,t(g)):a._parseDateTime(m),t.cf._compare(f,"start")?t.cf._isValid(o)?a._compareDateTime(l,a.oData.dMaxValue)<0&&(a.oData.dMaxValue=new Date(l)):a.oData.dMaxValue=new Date(l):t.cf._compare(f,"end")&&(t.cf._isValid(r)?a._compareDateTime(l,a.oData.dMinValue)>0&&(a.oData.dMinValue=new Date(l)):a.oData.dMinValue=new Date(l))),a.settings.parseDateTimeString?a.oData.dCurrentDate=a.settings.parseDateTimeString.call(a,M,c,D,t(e)):a.oData.dCurrentDate=a._parseDateTime(M)),a._setVariablesForDate(),a._modifyPicker(),t(a.element).fadeIn(a.settings.animationDuration),a.settings.afterShow&&setTimeout(function(){a.settings.afterShow.call(a,e)},a.settings.animationDuration)}},_hidePicker:function(e,a){var r=this,o=r.oData.oInputElement;r.settings.beforeHide&&r.settings.beforeHide.call(r,o),t.cf._isValid(e)||(e=r.settings.animationDuration),t.cf._isValid(r.oData.oInputElement)&&(t(r.oData.oInputElement).blur(),r.oData.oInputElement=null),t(r.element).fadeOut(e),0===e?t(r.element).find(".dtpicker-subcontent").html(""):setTimeout(function(){t(r.element).find(".dtpicker-subcontent").html("")},e),t(document).unbind("click.DateTimePicker keydown.DateTimePicker keyup.DateTimePicker"),r.settings.afterHide&&(0===e?r.settings.afterHide.call(r,o):setTimeout(function(){r.settings.afterHide.call(r,o)},e)),t.cf._isValid(a)&&r._showPicker(a)},_modifyPicker:function(){var e,a,r=this,o=[];r.oData.bDateMode?(e=r.settings.titleContentDate,a=3,r.oData.bArrMatchFormat[0]?o=["day","month","year"]:r.oData.bArrMatchFormat[1]?o=["month","day","year"]:r.oData.bArrMatchFormat[2]?o=["year","month","day"]:r.oData.bArrMatchFormat[3]?o=["day","month","year"]:r.oData.bArrMatchFormat[4]?(a=2,o=["month","year"]):r.oData.bArrMatchFormat[5]?(a=2,o=["month","year"]):r.oData.bArrMatchFormat[6]?(a=2,o=["month","year"]):r.oData.bArrMatchFormat[7]&&(a=2,o=["year","month"])):r.oData.bTimeMode?(e=r.settings.titleContentTime,r.oData.bArrMatchFormat[0]?(a=4,o=["hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[1]?(a=3,o=["hour","minutes","seconds"]):r.oData.bArrMatchFormat[2]?(a=3,o=["hour","minutes","meridiem"]):r.oData.bArrMatchFormat[3]&&(a=2,o=["hour","minutes"])):r.oData.bDateTimeMode&&(e=r.settings.titleContentDateTime,r.oData.bArrMatchFormat[0]?(a=6,o=["day","month","year","hour","minutes","seconds"]):r.oData.bArrMatchFormat[1]?(a=7,o=["day","month","year","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[2]?(a=6,o=["month","day","year","hour","minutes","seconds"]):r.oData.bArrMatchFormat[3]?(a=7,o=["month","day","year","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[4]?(a=6,o=["year","month","day","hour","minutes","seconds"]):r.oData.bArrMatchFormat[5]?(a=7,o=["year","month","day","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[6]?(a=6,o=["day","month","year","hour","minutes","seconds"]):r.oData.bArrMatchFormat[7]?(a=7,o=["day","month","year","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[8]?(a=5,o=["day","month","year","hour","minutes"]):r.oData.bArrMatchFormat[9]?(a=6,o=["day","month","year","hour","minutes","meridiem"]):r.oData.bArrMatchFormat[10]?(a=5,o=["month","day","year","hour","minutes"]):r.oData.bArrMatchFormat[11]?(a=6,o=["month","day","year","hour","minutes","meridiem"]):r.oData.bArrMatchFormat[12]?(a=5,o=["year","month","day","hour","minutes"]):r.oData.bArrMatchFormat[13]?(a=6,o=["year","month","day","hour","minutes","meridiem"]):r.oData.bArrMatchFormat[14]?(a=5,o=["day","month","year","hour","minutes"]):r.oData.bArrMatchFormat[15]&&(a=6,o=["day","month","year","hour","minutes","meridiem"]));var n,i="dtpicker-comp"+a,s=!1,u=!1,m=!1;for(n=0;n<r.settings.buttonsToDisplay.length;n++)t.cf._compare(r.settings.buttonsToDisplay[n],"HeaderCloseButton")?s=!0:t.cf._compare(r.settings.buttonsToDisplay[n],"SetButton")?u=!0:t.cf._compare(r.settings.buttonsToDisplay[n],"ClearButton")&&(m=!0);var l="";r.settings.showHeader&&(l+="<div class='dtpicker-header'>",l+="<div class='dtpicker-title'>"+e+"</div>",s&&(l+="<a class='dtpicker-close'>&times;</a>"),l+="<div class='dtpicker-value'></div>",l+="</div>");var c="";for(c+="<div class='dtpicker-components'>",n=0;n<a;n++){var d=o[n];c+="<div class='dtpicker-compOutline "+i+"'>",c+="<div class='dtpicker-comp "+d+"'>",c+="<a class='dtpicker-compButton increment'>"+r.settings.incrementButtonContent+"</a>",c+=r.settings.readonlyInputs?"<input type='text' class='dtpicker-compValue' readonly>":"<input type='text' class='dtpicker-compValue'>",c+="<a class='dtpicker-compButton decrement'>"+r.settings.decrementButtonContent+"</a>",r.settings.labels&&(c+="<div class='dtpicker-label'>"+r.settings.labels[d]+"</div>"),c+="</div>",c+="</div>"}c+="</div>";var p="";p+="<div class='dtpicker-buttonCont"+(u&&m?" dtpicker-twoButtons":" dtpicker-singleButton")+"'>",u&&(p+="<a class='dtpicker-button dtpicker-buttonSet'>"+r.settings.setButtonContent+"</a>"),m&&(p+="<a class='dtpicker-button dtpicker-buttonClear'>"+r.settings.clearButtonContent+"</a>");var D=l+c+(p+="</div>");t(r.element).find(".dtpicker-subcontent").html(D),r._setCurrentDate(),r._addEventHandlersForPicker()},_addEventHandlersForPicker:function(){var e,a,r=this;if(r.settings.isInline||t(document).on("click.DateTimePicker",function(t){r._hidePicker("")}),t(document).on("keydown.DateTimePicker",function(o){if(a=parseInt(o.keyCode?o.keyCode:o.which),!t(".dtpicker-compValue").is(":focus")&&9===a)return r._setButtonAction(!0),t("[tabIndex="+(r.oData.iTabIndex+1)+"]").focus(),!1;if(t(".dtpicker-compValue").is(":focus")){if(38===a)return e=t(".dtpicker-compValue:focus").parent().attr("class"),r._incrementDecrementActionsUsingArrowAndMouse(e,"inc"),!1;if(40===a)return e=t(".dtpicker-compValue:focus").parent().attr("class"),r._incrementDecrementActionsUsingArrowAndMouse(e,"dec"),!1}}),r.settings.isInline||t(document).on("keydown.DateTimePicker",function(e){a=parseInt(e.keyCode?e.keyCode:e.which),t(".dtpicker-compValue").is(":focus")||9===a||r._hidePicker("")}),t(".dtpicker-cont *").click(function(t){t.stopPropagation()}),r.settings.readonlyInputs||(t(".dtpicker-compValue").not(".month .dtpicker-compValue, .meridiem .dtpicker-compValue").keyup(function(){this.value=this.value.replace(/[^0-9\.]/g,"")}),t(".dtpicker-compValue").focus(function(){r.oData.bElemFocused=!0,t(this).select()}),t(".dtpicker-compValue").blur(function(){r._getValuesFromInputBoxes(),r._setCurrentDate(),r.oData.bElemFocused=!1;var e=t(this).parent().parent();setTimeout(function(){e.is(":last-child")&&!r.oData.bElemFocused&&r._setButtonAction(!1)},50)}),t(".dtpicker-compValue").keyup(function(e){var a,r=t(this),o=r.val(),n=o.length;r.parent().hasClass("day")||r.parent().hasClass("hour")||r.parent().hasClass("minutes")||r.parent().hasClass("meridiem")?n>2&&(a=o.slice(0,2),r.val(a)):r.parent().hasClass("month")?n>3&&(a=o.slice(0,3),r.val(a)):r.parent().hasClass("year")&&n>4&&(a=o.slice(0,4),r.val(a)),9===parseInt(e.keyCode?e.keyCode:e.which)&&t(this).select()})),t(r.element).find(".dtpicker-compValue").on("mousewheel DOMMouseScroll onmousewheel",function(a){if(t(".dtpicker-compValue").is(":focus")){var o=Math.max(-1,Math.min(1,a.originalEvent.wheelDelta));return o>0?(e=t(".dtpicker-compValue:focus").parent().attr("class"),r._incrementDecrementActionsUsingArrowAndMouse(e,"inc")):(e=t(".dtpicker-compValue:focus").parent().attr("class"),r._incrementDecrementActionsUsingArrowAndMouse(e,"dec")),!1}}),t(r.element).find(".dtpicker-close").click(function(t){r.settings.buttonClicked&&r.settings.buttonClicked.call(r,"CLOSE",r.oData.oInputElement),r.settings.isInline||r._hidePicker("")}),t(r.element).find(".dtpicker-buttonSet").click(function(t){r.settings.buttonClicked&&r.settings.buttonClicked.call(r,"SET",r.oData.oInputElement),r._setButtonAction(!1)}),t(r.element).find(".dtpicker-buttonClear").click(function(t){r.settings.buttonClicked&&r.settings.buttonClicked.call(r,"CLEAR",r.oData.oInputElement),r._clearButtonAction()}),r.settings.captureTouchHold||r.settings.captureMouseHold){var o="";r.settings.captureTouchHold&&r.oData.bIsTouchDevice&&(o+="touchstart touchmove touchend "),r.settings.captureMouseHold&&(o+="mousedown mouseup"),t(".dtpicker-cont *").on(o,function(t){r._clearIntervalForTouchEvents()}),r._bindTouchEvents("day"),r._bindTouchEvents("month"),r._bindTouchEvents("year"),r._bindTouchEvents("hour"),r._bindTouchEvents("minutes"),r._bindTouchEvents("seconds")}else t(r.element).find(".day .increment, .day .increment *").click(function(t){r.oData.iCurrentDay++,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".day .decrement, .day .decrement *").click(function(t){r.oData.iCurrentDay--,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".month .increment, .month .increment *").click(function(t){r.oData.iCurrentMonth++,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".month .decrement, .month .decrement *").click(function(t){r.oData.iCurrentMonth--,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".year .increment, .year .increment *").click(function(t){r.oData.iCurrentYear++,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".year .decrement, .year .decrement *").click(function(t){r.oData.iCurrentYear--,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".hour .increment, .hour .increment *").click(function(t){r.oData.iCurrentHour++,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".hour .decrement, .hour .decrement *").click(function(t){r.oData.iCurrentHour--,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".minutes .increment, .minutes .increment *").click(function(t){r.oData.iCurrentMinutes+=r.settings.minuteInterval,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".minutes .decrement, .minutes .decrement *").click(function(t){r.oData.iCurrentMinutes-=r.settings.minuteInterval,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".seconds .increment, .seconds .increment *").click(function(t){r.oData.iCurrentSeconds+=r.settings.secondsInterval,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".seconds .decrement, .seconds .decrement *").click(function(t){r.oData.iCurrentSeconds-=r.settings.secondsInterval,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()});t(r.element).find(".meridiem .dtpicker-compButton, .meridiem .dtpicker-compButton *").click(function(e){t.cf._compare(r.oData.sCurrentMeridiem,"AM")?(r.oData.sCurrentMeridiem="PM",r.oData.iCurrentHour+=12):t.cf._compare(r.oData.sCurrentMeridiem,"PM")&&(r.oData.sCurrentMeridiem="AM",r.oData.iCurrentHour-=12),r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()})},_adjustMinutes:function(t){var e=this;return e.settings.roundOffMinutes&&1!==e.settings.minuteInterval&&(t=t%e.settings.minuteInterval?t-t%e.settings.minuteInterval+e.settings.minuteInterval:t),t},_adjustSeconds:function(t){var e=this;return e.settings.roundOffSeconds&&1!==e.settings.secondsInterval&&(t=t%e.settings.secondsInterval?t-t%e.settings.secondsInterval+e.settings.secondsInterval:t),t},_getValueOfElement:function(e){return t.cf._compare(t(e).prop("tagName"),"INPUT")?t(e).val():t(e).html()},_setValueOfElement:function(e,a){var r=this;t.cf._isValid(a)||(a=t(r.oData.oInputElement)),t.cf._compare(a.prop("tagName"),"INPUT")?a.val(e):a.html(e);var o=r.getDateObjectForInputField(a);return r.settings.settingValueOfElement&&r.settings.settingValueOfElement.call(r,e,o,a),a.change(),e},_bindTouchEvents:function(e){var a=this;t(a.element).find("."+e+" .increment, ."+e+" .increment *").on("touchstart mousedown",function(r){r.stopPropagation(),t.cf._isValid(a.oData.sTouchButton)||(a.oData.iTouchStart=(new Date).getTime(),a.oData.sTouchButton=e+"-inc",a._setIntervalForTouchEvents())}),t(a.element).find("."+e+" .increment, ."+e+" .increment *").on("touchend mouseup",function(t){t.stopPropagation(),a._clearIntervalForTouchEvents()}),t(a.element).find("."+e+" .decrement, ."+e+" .decrement *").on("touchstart mousedown",function(r){r.stopPropagation(),t.cf._isValid(a.oData.sTouchButton)||(a.oData.iTouchStart=(new Date).getTime(),a.oData.sTouchButton=e+"-dec",a._setIntervalForTouchEvents())}),t(a.element).find("."+e+" .decrement, ."+e+" .decrement *").on("touchend mouseup",function(t){t.stopPropagation(),a._clearIntervalForTouchEvents()})},_setIntervalForTouchEvents:function(){var e=this,a=e.oData.bIsTouchDevice?e.settings.touchHoldInterval:e.settings.mouseHoldInterval;t.cf._isValid(e.oData.oTimeInterval)||(e.oData.oTimeInterval=setInterval(function(){(new Date).getTime()-e.oData.iTouchStart>a&&t.cf._isValid(e.oData.sTouchButton)&&("day-inc"===e.oData.sTouchButton?e.oData.iCurrentDay++:"day-dec"===e.oData.sTouchButton?e.oData.iCurrentDay--:"month-inc"===e.oData.sTouchButton?e.oData.iCurrentMonth++:"month-dec"===e.oData.sTouchButton?e.oData.iCurrentMonth--:"year-inc"===e.oData.sTouchButton?e.oData.iCurrentYear++:"year-dec"===e.oData.sTouchButton?e.oData.iCurrentYear--:"hour-inc"===e.oData.sTouchButton?e.oData.iCurrentHour++:"hour-dec"===e.oData.sTouchButton?e.oData.iCurrentHour--:"minute-inc"===e.oData.sTouchButton?e.oData.iCurrentMinutes+=e.settings.minuteInterval:"minute-dec"===e.oData.sTouchButton?e.oData.iCurrentMinutes-=e.settings.minuteInterval:"second-inc"===e.oData.sTouchButton?e.oData.iCurrentSeconds+=e.settings.secondsInterval:"second-dec"===e.oData.sTouchButton&&(e.oData.iCurrentSeconds-=e.settings.secondsInterval),e._setCurrentDate(),e._setOutputOnIncrementOrDecrement(),e.oData.iTouchStart=(new Date).getTime())},a))},_clearIntervalForTouchEvents:function(){var e=this;clearInterval(e.oData.oTimeInterval),t.cf._isValid(e.oData.sTouchButton)&&(e.oData.sTouchButton=null,e.oData.iTouchStart=0),e.oData.oTimeInterval=null},_incrementDecrementActionsUsingArrowAndMouse:function(t,e){var a=this;t.includes("day")?"inc"===e?a.oData.iCurrentDay++:"dec"===e&&a.oData.iCurrentDay--:t.includes("month")?"inc"===e?a.oData.iCurrentMonth++:"dec"===e&&a.oData.iCurrentMonth--:t.includes("year")?"inc"===e?a.oData.iCurrentYear++:"dec"===e&&a.oData.iCurrentYear--:t.includes("hour")?"inc"===e?a.oData.iCurrentHour++:"dec"===e&&a.oData.iCurrentHour--:t.includes("minutes")?"inc"===e?a.oData.iCurrentMinutes+=a.settings.minuteInterval:"dec"===e&&(a.oData.iCurrentMinutes-=a.settings.minuteInterval):t.includes("seconds")&&("inc"===e?a.oData.iCurrentSeconds+=a.settings.secondsInterval:"dec"===e&&(a.oData.iCurrentSeconds-=a.settings.secondsInterval)),a._setCurrentDate(),a._setOutputOnIncrementOrDecrement()},_parseDate:function(e){var a=this,r=a.settings.defaultDate?new Date(a.settings.defaultDate):new Date,o=r.getDate(),n=r.getMonth(),i=r.getFullYear();if(t.cf._isValid(e))if("string"==typeof e){var s;s=a.oData.bArrMatchFormat[4]||a.oData.bArrMatchFormat[5]||a.oData.bArrMatchFormat[6]?e.split(a.settings.monthYearSeparator):e.split(a.settings.dateSeparator),a.oData.bArrMatchFormat[0]?(o=parseInt(s[0]),n=parseInt(s[1]-1),i=parseInt(s[2])):a.oData.bArrMatchFormat[1]?(n=parseInt(s[0]-1),o=parseInt(s[1]),i=parseInt(s[2])):a.oData.bArrMatchFormat[2]?(i=parseInt(s[0]),n=parseInt(s[1]-1),o=parseInt(s[2])):a.oData.bArrMatchFormat[3]?(o=parseInt(s[0]),n=a._getShortMonthIndex(s[1]),i=parseInt(s[2])):a.oData.bArrMatchFormat[4]?(o=1,n=parseInt(s[0])-1,i=parseInt(s[1])):a.oData.bArrMatchFormat[5]?(o=1,n=a._getShortMonthIndex(s[0]),i=parseInt(s[1])):a.oData.bArrMatchFormat[6]?(o=1,n=a._getFullMonthIndex(s[0]),i=parseInt(s[1])):a.oData.bArrMatchFormat[7]&&(o=1,n=parseInt(s[1])-1,i=parseInt(s[0]))}else o=e.getDate(),n=e.getMonth(),i=e.getFullYear();return r=new Date(i,n,o,0,0,0,0)},_parseTime:function(e){var a,r,o,n=this,i=n.settings.defaultDate?new Date(n.settings.defaultDate):new Date,s=i.getDate(),u=i.getMonth(),m=i.getFullYear(),l=i.getHours(),c=i.getMinutes(),d=i.getSeconds(),p=n.oData.bArrMatchFormat[0]||n.oData.bArrMatchFormat[1];return d=p?n._adjustSeconds(d):0,t.cf._isValid(e)&&("string"==typeof e?(n.oData.bIs12Hour&&(a=e.split(n.settings.timeMeridiemSeparator),e=a[0],r=a[1],t.cf._compare(r,"AM")||t.cf._compare(r,"PM")||(r="")),o=e.split(n.settings.timeSeparator),l=parseInt(o[0]),c=parseInt(o[1]),p&&(d=parseInt(o[2]),d=n._adjustSeconds(d)),12===l&&t.cf._compare(r,"AM")?l=0:l<12&&t.cf._compare(r,"PM")&&(l+=12)):(l=e.getHours(),c=e.getMinutes(),p&&(d=e.getSeconds(),d=n._adjustSeconds(d)))),c=n._adjustMinutes(c),i=new Date(m,u,s,l,c,d,0)},_parseDateTime:function(e){var a,r,o,n,i,s=this,u=s.settings.defaultDate?new Date(s.settings.defaultDate):new Date,m=u.getDate(),l=u.getMonth(),c=u.getFullYear(),d=u.getHours(),p=u.getMinutes(),D=u.getSeconds(),h="",f=s.oData.bArrMatchFormat[0]||s.oData.bArrMatchFormat[1]||s.oData.bArrMatchFormat[2]||s.oData.bArrMatchFormat[3]||s.oData.bArrMatchFormat[4]||s.oData.bArrMatchFormat[5]||s.oData.bArrMatchFormat[6]||s.oData.bArrMatchFormat[7];return D=f?s._adjustSeconds(D):0,t.cf._isValid(e)&&("string"==typeof e?(a=e.split(s.settings.dateTimeSeparator),r=a[0].split(s.settings.dateSeparator),s.oData.bArrMatchFormat[0]||s.oData.bArrMatchFormat[1]||s.oData.bArrMatchFormat[8]||s.oData.bArrMatchFormat[9]?(m=parseInt(r[0]),l=parseInt(r[1]-1),c=parseInt(r[2])):s.oData.bArrMatchFormat[2]||s.oData.bArrMatchFormat[3]||s.oData.bArrMatchFormat[10]||s.oData.bArrMatchFormat[11]?(l=parseInt(r[0]-1),m=parseInt(r[1]),c=parseInt(r[2])):s.oData.bArrMatchFormat[4]||s.oData.bArrMatchFormat[5]||s.oData.bArrMatchFormat[12]||s.oData.bArrMatchFormat[13]?(c=parseInt(r[0]),l=parseInt(r[1]-1),m=parseInt(r[2])):(s.oData.bArrMatchFormat[6]||s.oData.bArrMatchFormat[7]||s.oData.bArrMatchFormat[14]||s.oData.bArrMatchFormat[15])&&(m=parseInt(r[0]),l=s._getShortMonthIndex(r[1]),c=parseInt(r[2])),o=a[1],t.cf._isValid(o)&&(s.oData.bIs12Hour&&(t.cf._compare(s.settings.dateTimeSeparator,s.settings.timeMeridiemSeparator)&&3===a.length?h=a[2]:(n=o.split(s.settings.timeMeridiemSeparator),o=n[0],h=n[1]),t.cf._compare(h,"AM")||t.cf._compare(h,"PM")||(h="")),i=o.split(s.settings.timeSeparator),d=parseInt(i[0]),p=parseInt(i[1]),f&&(D=parseInt(i[2])),12===d&&t.cf._compare(h,"AM")?d=0:d<12&&t.cf._compare(h,"PM")&&(d+=12))):(m=e.getDate(),l=e.getMonth(),c=e.getFullYear(),d=e.getHours(),p=e.getMinutes(),f&&(D=e.getSeconds(),D=s._adjustSeconds(D)))),p=s._adjustMinutes(p),u=new Date(c,l,m,d,p,D,0)},_getShortMonthIndex:function(e){for(var a=0;a<this.settings.shortMonthNames.length;a++)if(t.cf._compare(e,this.settings.shortMonthNames[a]))return a},_getFullMonthIndex:function(e){for(var a=0;a<this.settings.fullMonthNames.length;a++)if(t.cf._compare(e,this.settings.fullMonthNames[a]))return a},getIs12Hour:function(t,e){var a=this,r=!1,o=Function.length;return a._setMatchFormat(o,t,e),a.oData.bTimeMode?r=a.oData.bArrMatchFormat[0]||a.oData.bArrMatchFormat[2]:a.oData.bDateTimeMode&&(r=a.oData.bArrMatchFormat[1]||a.oData.bArrMatchFormat[3]||a.oData.bArrMatchFormat[5]||a.oData.bArrMatchFormat[7]||a.oData.bArrMatchFormat[9]||a.oData.bArrMatchFormat[11]||a.oData.bArrMatchFormat[13]||a.oData.bArrMatchFormat[15]),a._setMatchFormat(o),r},_setVariablesForDate:function(e,a,r){var o,n=this,i={},s=t.cf._isValid(e);return s?(o=new Date(e),t.cf._isValid(a)||(a=!0),t.cf._isValid(r)||(r=!0)):(o="[object Date]"===Object.prototype.toString.call(n.oData.dCurrentDate)&&isFinite(n.oData.dCurrentDate)?new Date(n.oData.dCurrentDate):new Date,t.cf._isValid(a)||(a=n.oData.bTimeMode||n.oData.bDateTimeMode),t.cf._isValid(r)||(r=n.oData.bIs12Hour)),i.iCurrentDay=o.getDate(),i.iCurrentMonth=o.getMonth(),i.iCurrentYear=o.getFullYear(),i.iCurrentWeekday=o.getDay(),a&&(i.iCurrentHour=o.getHours(),i.iCurrentMinutes=o.getMinutes(),i.iCurrentSeconds=o.getSeconds(),r&&(i.sCurrentMeridiem=n._determineMeridiemFromHourAndMinutes(i.iCurrentHour,i.iCurrentMinutes))),s?i:void(n.oData=t.extend(n.oData,i))},_getValuesFromInputBoxes:function(){var e,a,r,o,n,i,s=this;(s.oData.bDateMode||s.oData.bDateTimeMode)&&((e=t(s.element).find(".month .dtpicker-compValue").val()).length>1&&(e=e.charAt(0).toUpperCase()+e.slice(1)),-1!==(a=s.settings.shortMonthNames.indexOf(e))?s.oData.iCurrentMonth=parseInt(a):e.match("^[+|-]?[0-9]+$")&&(s.oData.iCurrentMonth=parseInt(e-1)),s.oData.iCurrentDay=parseInt(t(s.element).find(".day .dtpicker-compValue").val())||s.oData.iCurrentDay,s.oData.iCurrentYear=parseInt(t(s.element).find(".year .dtpicker-compValue").val())||s.oData.iCurrentYear),(s.oData.bTimeMode||s.oData.bDateTimeMode)&&(r=parseInt(t(s.element).find(".hour .dtpicker-compValue").val()),o=s._adjustMinutes(parseInt(t(s.element).find(".minutes .dtpicker-compValue").val())),n=s._adjustMinutes(parseInt(t(s.element).find(".seconds .dtpicker-compValue").val())),s.oData.iCurrentHour=isNaN(r)?s.oData.iCurrentHour:r,s.oData.iCurrentMinutes=isNaN(o)?s.oData.iCurrentMinutes:o,s.oData.iCurrentSeconds=isNaN(n)?s.oData.iCurrentSeconds:n,s.oData.iCurrentSeconds>59&&(s.oData.iCurrentMinutes+=s.oData.iCurrentSeconds/60,s.oData.iCurrentSeconds=s.oData.iCurrentSeconds%60),s.oData.iCurrentMinutes>59&&(s.oData.iCurrentHour+=s.oData.iCurrentMinutes/60,s.oData.iCurrentMinutes=s.oData.iCurrentMinutes%60),s.oData.bIs12Hour?s.oData.iCurrentHour>12&&(s.oData.iCurrentHour=s.oData.iCurrentHour%12):s.oData.iCurrentHour>23&&(s.oData.iCurrentHour=s.oData.iCurrentHour%23),s.oData.bIs12Hour&&(i=t(s.element).find(".meridiem .dtpicker-compValue").val(),(t.cf._compare(i,"AM")||t.cf._compare(i,"PM"))&&(s.oData.sCurrentMeridiem=i),t.cf._compare(s.oData.sCurrentMeridiem,"PM")&&12!==s.oData.iCurrentHour&&s.oData.iCurrentHour<13&&(s.oData.iCurrentHour+=12),t.cf._compare(s.oData.sCurrentMeridiem,"AM")&&12===s.oData.iCurrentHour&&(s.oData.iCurrentHour=0)))},_setCurrentDate:function(){var e=this;(e.oData.bTimeMode||e.oData.bDateTimeMode)&&(e.oData.iCurrentSeconds>59?(e.oData.iCurrentMinutes+=e.oData.iCurrentSeconds/60,e.oData.iCurrentSeconds=e.oData.iCurrentSeconds%60):e.oData.iCurrentSeconds<0&&(e.oData.iCurrentMinutes-=e.settings.minuteInterval,e.oData.iCurrentSeconds+=60),e.oData.iCurrentMinutes=e._adjustMinutes(e.oData.iCurrentMinutes),e.oData.iCurrentSeconds=e._adjustSeconds(e.oData.iCurrentSeconds));var a,r,o,n,i,s,u,m=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),l=!1,c=!1;if(null!==e.oData.dMaxValue&&(l=m.getTime()>e.oData.dMaxValue.getTime()),null!==e.oData.dMinValue&&(c=m.getTime()<e.oData.dMinValue.getTime()),l||c){var d=!1,p=!1;null!==e.oData.dMaxValue&&(d=e.oData.dCurrentDate.getTime()>e.oData.dMaxValue.getTime()),null!==e.oData.dMinValue&&(p=e.oData.dCurrentDate.getTime()<e.oData.dMinValue.getTime()),d||p?(d&&(m=new Date(e.oData.dMaxValue)),p&&(m=new Date(e.oData.dMinValue))):m=new Date(e.oData.dCurrentDate)}if(e.oData.dCurrentDate=new Date(m),e._setVariablesForDate(),r={},i="",s="",u="",(e.oData.bDateMode||e.oData.bDateTimeMode)&&(e.oData.bDateMode&&(e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[5]||e.oData.bArrMatchFormat[6])&&(e.oData.iCurrentDay=1),o=e._formatDate(),t(e.element).find(".day .dtpicker-compValue").val(o.dd),e.oData.bDateMode?e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[7]?t(e.element).find(".month .dtpicker-compValue").val(o.MM):e.oData.bArrMatchFormat[6]?t(e.element).find(".month .dtpicker-compValue").val(o.month):t(e.element).find(".month .dtpicker-compValue").val(o.monthShort):t(e.element).find(".month .dtpicker-compValue").val(o.monthShort),t(e.element).find(".year .dtpicker-compValue").val(o.yyyy),e.settings.formatHumanDate?r=t.extend(r,o):e.oData.bDateMode&&(e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[5]||e.oData.bArrMatchFormat[6]||e.oData.bArrMatchFormat[7])?e.oData.bArrMatchFormat[4]?i=o.MM+e.settings.monthYearSeparator+o.yyyy:e.oData.bArrMatchFormat[5]?i=o.monthShort+e.settings.monthYearSeparator+o.yyyy:e.oData.bArrMatchFormat[6]?i=o.month+e.settings.monthYearSeparator+o.yyyy:e.oData.bArrMatchFormat[7]&&(i=o.yyyy+e.settings.monthYearSeparator+o.MM):i=o.dayShort+", "+o.month+" "+o.dd+", "+o.yyyy),e.oData.bTimeMode||e.oData.bDateTimeMode)if(n=e._formatTime(),e.oData.bIs12Hour&&t(e.element).find(".meridiem .dtpicker-compValue").val(e.oData.sCurrentMeridiem),t(e.element).find(".hour .dtpicker-compValue").val(n.hour),t(e.element).find(".minutes .dtpicker-compValue").val(n.mm),t(e.element).find(".seconds .dtpicker-compValue").val(n.ss),e.settings.formatHumanDate)r=t.extend(r,n);else{var D=e.oData.bTimeMode&&(e.oData.bArrMatchFormat[0]||e.oData.bArrMatchFormat[1]),h=e.oData.bDateTimeMode&&(e.oData.bArrMatchFormat[0]||e.oData.bArrMatchFormat[1]||e.oData.bArrMatchFormat[2]||e.oData.bArrMatchFormat[3]||e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[5]||e.oData.bArrMatchFormat[6]||e.oData.bArrMatchFormat[7]);s=D||h?n.hour+e.settings.timeSeparator+n.mm+e.settings.timeSeparator+n.ss:n.hour+e.settings.timeSeparator+n.mm,e.oData.bIs12Hour&&(s+=e.settings.timeMeridiemSeparator+e.oData.sCurrentMeridiem)}e.settings.formatHumanDate?(e.oData.bDateTimeMode?a=e.oData.sDateFormat:e.oData.bDateMode?a=e.oData.sTimeFormat:e.oData.bTimeMode&&(a=e.oData.sDateTimeFormat),u=e.settings.formatHumanDate.call(e,r,e.settings.mode,a)):e.oData.bDateTimeMode?u=i+e.settings.dateTimeSeparator+s:e.oData.bDateMode?u=i:e.oData.bTimeMode&&(u=s),t(e.element).find(".dtpicker-value").html(u),e._setButtons()},_formatDate:function(e){var a,r,o,n,i,s,u,m,l,c=this,d={};return t.cf._isValid(e)?d=t.extend({},e):(d.iCurrentDay=c.oData.iCurrentDay,d.iCurrentMonth=c.oData.iCurrentMonth,d.iCurrentYear=c.oData.iCurrentYear,d.iCurrentWeekday=c.oData.iCurrentWeekday),a=(a=d.iCurrentDay)<10?"0"+a:a,o=d.iCurrentMonth,n=(n=d.iCurrentMonth+1)<10?"0"+n:n,i=c.settings.shortMonthNames[o],s=c.settings.fullMonthNames[o],r=d.iCurrentYear,u=d.iCurrentWeekday,m=c.settings.shortDayNames[u],l=c.settings.fullDayNames[u],{dd:a,MM:n,monthShort:i,month:s,yyyy:r,dayShort:m,day:l}},_formatTime:function(e){var a,r,o,n,i,s,u,m=this,l={};return t.cf._isValid(e)?l=t.extend({},e):(l.iCurrentHour=m.oData.iCurrentHour,l.iCurrentMinutes=m.oData.iCurrentMinutes,l.iCurrentSeconds=m.oData.iCurrentSeconds,l.sCurrentMeridiem=m.oData.sCurrentMeridiem),a=l.iCurrentHour,i=r=a<10?"0"+a:a,(o=l.iCurrentHour)>12&&(o-=12),"00"===i&&(o=12),n=o<10?"0"+o:o,m.oData.bIs12Hour&&(i=n),s=(s=l.iCurrentMinutes)<10?"0"+s:s,u=(u=l.iCurrentSeconds)<10?"0"+u:u,{H:a,HH:r,h:o,hh:n,hour:i,m:l.iCurrentMinutes,mm:s,s:l.iCurrentSeconds,ss:u,ME:l.sCurrentMeridiem}},_setButtons:function(){var e,a,r,o=this;t(o.element).find(".dtpicker-compButton").removeClass("dtpicker-compButtonDisable").addClass("dtpicker-compButtonEnable"),null!==o.oData.dMaxValue&&(o.oData.bTimeMode?((o.oData.iCurrentHour+1>o.oData.dMaxValue.getHours()||o.oData.iCurrentHour+1===o.oData.dMaxValue.getHours()&&o.oData.iCurrentMinutes>o.oData.dMaxValue.getMinutes())&&t(o.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),o.oData.iCurrentHour>=o.oData.dMaxValue.getHours()&&o.oData.iCurrentMinutes+1>o.oData.dMaxValue.getMinutes()&&t(o.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):((e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth,o.oData.iCurrentDay+1,o.oData.iCurrentHour,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds,0)).getTime()>o.oData.dMaxValue.getTime()&&t(o.element).find(".day .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth+1,o.oData.iCurrentDay,o.oData.iCurrentHour,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds,0)).getTime()>o.oData.dMaxValue.getTime()&&t(o.element).find(".month .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear+1,o.oData.iCurrentMonth,o.oData.iCurrentDay,o.oData.iCurrentHour,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds,0)).getTime()>o.oData.dMaxValue.getTime()&&t(o.element).find(".year .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth,o.oData.iCurrentDay,o.oData.iCurrentHour+1,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds,0)).getTime()>o.oData.dMaxValue.getTime()&&t(o.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth,o.oData.iCurrentDay,o.oData.iCurrentHour,o.oData.iCurrentMinutes+1,o.oData.iCurrentSeconds,0)).getTime()>o.oData.dMaxValue.getTime()&&t(o.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth,o.oData.iCurrentDay,o.oData.iCurrentHour,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds+1,0)).getTime()>o.oData.dMaxValue.getTime()&&t(o.element).find(".seconds .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),null!==o.oData.dMinValue&&(o.oData.bTimeMode?((o.oData.iCurrentHour-1<o.oData.dMinValue.getHours()||o.oData.iCurrentHour-1===o.oData.dMinValue.getHours()&&o.oData.iCurrentMinutes<o.oData.dMinValue.getMinutes())&&t(o.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),o.oData.iCurrentHour<=o.oData.dMinValue.getHours()&&o.oData.iCurrentMinutes-1<o.oData.dMinValue.getMinutes()&&t(o.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):((e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth,o.oData.iCurrentDay-1,o.oData.iCurrentHour,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds,0)).getTime()<o.oData.dMinValue.getTime()&&t(o.element).find(".day .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth-1,o.oData.iCurrentDay,o.oData.iCurrentHour,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds,0)).getTime()<o.oData.dMinValue.getTime()&&t(o.element).find(".month .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear-1,o.oData.iCurrentMonth,o.oData.iCurrentDay,o.oData.iCurrentHour,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds,0)).getTime()<o.oData.dMinValue.getTime()&&t(o.element).find(".year .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth,o.oData.iCurrentDay,o.oData.iCurrentHour-1,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds,0)).getTime()<o.oData.dMinValue.getTime()&&t(o.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth,o.oData.iCurrentDay,o.oData.iCurrentHour,o.oData.iCurrentMinutes-1,o.oData.iCurrentSeconds,0)).getTime()<o.oData.dMinValue.getTime()&&t(o.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth,o.oData.iCurrentDay,o.oData.iCurrentHour,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds-1,0)).getTime()<o.oData.dMinValue.getTime()&&t(o.element).find(".seconds .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),o.oData.bIs12Hour&&(null===o.oData.dMaxValue&&null===o.oData.dMinValue||(a=o.oData.iCurrentHour,t.cf._compare(o.oData.sCurrentMeridiem,"AM")?a+=12:t.cf._compare(o.oData.sCurrentMeridiem,"PM")&&(a-=12),e=new Date(o.oData.iCurrentYear,o.oData.iCurrentMonth,o.oData.iCurrentDay,a,o.oData.iCurrentMinutes,o.oData.iCurrentSeconds,0),null!==o.oData.dMaxValue&&(o.oData.bTimeMode?(r=o.oData.iCurrentMinutes,(a>o.oData.dMaxValue.getHours()||a===o.oData.dMaxValue.getHours()&&r>o.oData.dMaxValue.getMinutes())&&t(o.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):e.getTime()>o.oData.dMaxValue.getTime()&&t(o.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")),null!==o.oData.dMinValue&&(o.oData.bTimeMode?(r=o.oData.iCurrentMinutes,(a<o.oData.dMinValue.getHours()||a===o.oData.dMinValue.getHours()&&r<o.oData.dMinValue.getMinutes())&&t(o.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):e.getTime()<o.oData.dMinValue.getTime()&&t(o.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))))},setIsPopup:function(e){var a=this;if(!a.settings.isInline)if(a.settings.isPopup=e,"none"!==t(a.element).css("display")&&a._hidePicker(0),a.settings.isPopup)t(a.element).addClass("dtpicker-mobile"),t(a.element).css({position:"fixed",top:0,left:0,width:"100%",height:"100%"});else if(t(a.element).removeClass("dtpicker-mobile"),null!==a.oData.oInputElement){var r=t(a.oData.oInputElement).offset().top+t(a.oData.oInputElement).outerHeight(),o=t(a.oData.oInputElement).offset().left,n=t(a.oData.oInputElement).outerWidth();t(a.element).css({position:"absolute",top:r,left:o,width:n,height:"auto"})}},_compareDates:function(t,e){var a=((t=new Date(t.getDate(),t.getMonth(),t.getFullYear(),0,0,0,0)).getTime()-e.getTime())/864e5;return 0===a?a:a/Math.abs(a)},_compareTime:function(t,e){var a=0;return t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()?a=1:t.getHours()<e.getHours()?a=2:t.getHours()>e.getHours()?a=3:t.getHours()===e.getHours()&&(t.getMinutes()<e.getMinutes()?a=2:t.getMinutes()>e.getMinutes()&&(a=3)),a},_compareDateTime:function(t,e){var a=(t.getTime()-e.getTime())/6e4;return 0===a?a:a/Math.abs(a)},_determineMeridiemFromHourAndMinutes:function(t,e){return t>12||12===t&&e>=0?"PM":"AM"},setLanguage:function(e){var a=this;return a.settings=t.extend({},t.DateTimePicker.defaults,t.DateTimePicker.i18n[e],a.options),a.settings.language=e,a._setDateFormatArray(),a._setTimeFormatArray(),a._setDateTimeFormatArray(),a}}})?r.apply(e,o):r)||(t.exports=n)},function(t,e){t.exports=jQuery}]);
//# sourceMappingURL=forum.js.map