(()=>{var t={n:o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return t.d(n,{a:n}),n},d:(o,n)=>{for(var e in n)t.o(n,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:n[e]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};(()=>{"use strict";t.r(o),t.d(o,{components:()=>et,extend:()=>vt,models:()=>pt});const n=flarum.core.compat["forum/app"];var e=t.n(n);const a=flarum.core.compat["common/extend"],l=flarum.core.compat["common/components/Badge"];var s=t.n(l);const i=flarum.core.compat["forum/components/DiscussionList"];var r=t.n(i);const p=flarum.core.compat["common/models/Discussion"];var u=t.n(p);const c=flarum.core.compat["common/utils/classList"];var d=t.n(c);const f=flarum.core.compat["forum/components/DiscussionComposer"];var h=t.n(f);const v=flarum.core.compat["forum/components/ReplyComposer"];var b=t.n(v);function y(t,o){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},y(t,o)}function g(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,y(t,o)}const P=flarum.core.compat["common/components/Button"];var w=t.n(P);const N=flarum.core.compat["common/components/Modal"];var V=t.n(N);const M=flarum.core.compat["common/components/Switch"];var x=t.n(M);const O=flarum.core.compat["common/utils/ItemList"];var D=t.n(O);const _=flarum.core.compat["common/utils/Stream"];var I=t.n(_),C=function(t){function o(){return t.apply(this,arguments)||this}g(o,t);var n=o.prototype;return n.oninit=function(o){var n=this;t.prototype.oninit.call(this,o),this.options=[I()(""),I()("")],this.optionImageUrls=[I()(""),I()("")],this.question=I()(""),this.endDate=I()(),this.publicPoll=I()(!1),this.allowMultipleVotes=I()(!1),this.maxVotes=I()(0),this.datepickerMinDate=this.formatDate(void 0);var e=this.attrs.poll;e&&Array.isArray(e.options)&&(this.options=[],this.optionImageUrls=[],e.options.forEach((function(t){n.options.push(I()(t.answer)),n.optionImageUrls.push(I()(t.imageUrl))})),this.question(e.question),this.publicPoll(e.publicPoll),this.endDate(this.formatDate(e.endDate)),this.endDate()&&dayjs(e.endDate).isAfter(dayjs())&&(this.datepickerMinDate=this.formatDate(e.endDate)))},n.title=function(){return e().translator.trans("fof-polls.forum.modal.add_title")},n.className=function(){return"PollDiscussionModal Modal--medium"},n.content=function(){return[m("div",{className:"Modal-body"},m("div",{className:"PollDiscussionModal-form"},this.fields().toArray()))]},n.fields=function(){var t=new(D());return t.add("question",m("div",{className:"Form-group"},m("label",{className:"label"},e().translator.trans("fof-polls.forum.modal.question_placeholder")),m("input",{type:"text",name:"question",className:"FormControl",bidi:this.question})),100),t.add("answers",m("div",{className:"PollModal--answers Form-group"},m("label",{className:"label PollModal--answers-title"},m("span",null,e().translator.trans("fof-polls.forum.modal.options_label")),w().component({className:"Button PollModal--button small",icon:"fas fa-plus",onclick:this.addOption.bind(this)})),this.displayOptions()),80),t.add("date",m("div",{className:"Form-group"},m("label",{className:"label"},e().translator.trans("fof-polls.forum.modal.date_placeholder")),m("div",{className:"PollModal--date"},m("input",{className:"FormControl",type:"datetime-local",name:"date",bidi:this.endDate,min:this.datepickerMinDate}),w().component({className:"Button PollModal--button",icon:"fas fa-times",onclick:this.endDate.bind(this,null)})),this.endDate()&&m("p",{className:"helpText"},m("i",{class:"icon fas fa-clock"}),"Â ",dayjs(this.endDate()).isBefore(dayjs())?e().translator.trans("fof-polls.forum.poll_ended"):e().translator.trans("fof-polls.forum.days_remaining",{time:dayjs(this.endDate()).fromNow()}))),40),t.add("public",m("div",{className:"Form-group"},x().component({state:this.publicPoll()||!1,onchange:this.publicPoll},e().translator.trans("fof-polls.forum.modal.public_poll_label"))),20),t.add("allow-multiple-votes",m("div",{className:"Form-group"},x().component({state:this.allowMultipleVotes()||!1,onchange:this.allowMultipleVotes},e().translator.trans("fof-polls.forum.modal.allow_multiple_votes_label"))),15),this.allowMultipleVotes()&&t.add("max-votes",m("div",{className:"Form-group"},m("label",{className:"label"},e().translator.trans("fof-polls.forum.modal.max_votes_label")),m("input",{type:"number",min:"0",max:this.options.length,name:"maxVotes",className:"FormControl",bidi:this.maxVotes}),m("p",{className:"helpText"},e().translator.trans("fof-polls.forum.modal.max_votes_help"))),15),t.add("submit",m("div",{className:"Form-group"},w().component({type:"submit",className:"Button Button--primary PollModal-SubmitButton",loading:this.loading},e().translator.trans("fof-polls.forum.modal.submit"))),-10),t},n.displayOptions=function(){var t=this;return Object.keys(this.options).map((function(o,n){return m("div",{className:"Form-group"},m("fieldset",{className:"Poll-answer-input"},m("input",{className:"FormControl",type:"text",name:"answer"+(n+1),bidi:t.options[n],placeholder:e().translator.trans("fof-polls.forum.modal.option_placeholder")+" #"+(n+1)}),e().forum.attribute("allowPollOptionImage")?m("input",{className:"FormControl",type:"text",name:"answerImage"+(n+1),bidi:t.optionImageUrls[n],placeholder:e().translator.trans("fof-polls.forum.modal.image_option_placeholder")+" #"+(n+1)}):null),n>=2?w().component({type:"button",className:"Button Button--warning PollModal--button",icon:"fas fa-minus",onclick:n>=2?t.removeOption.bind(t,n):""}):"")}))},n.addOption=function(){var t=e().data["fof-polls.options.max"],o=t&&parseInt(t)||11;this.options.length<o?(this.options.push(I()("")),this.optionImageUrls.push(I()(""))):alert(e().translator.trans("fof-polls.forum.modal.max"))},n.removeOption=function(t){this.options.splice(t,1),this.optionImageUrls.splice(t,1)},n.data=function(){var t=this,o={question:this.question(),endDate:this.dateToTimestamp(this.endDate()),publicPoll:this.publicPoll(),allowMultipleVotes:this.allowMultipleVotes(),maxVotes:this.maxVotes(),options:[]};return this.options.forEach((function(n,e){n()&&o.options.push({answer:n(),imageUrl:t.optionImageUrls[e]()})})),""===this.question()?(alert(e().translator.trans("fof-polls.forum.modal.include_question")),null):o.options.length<2?(alert(e().translator.trans("fof-polls.forum.modal.min")),null):o},n.onsubmit=function(t){var o=this;t.preventDefault();var n=this.data();if(null!==n){var a=this.attrs.onsubmit(n);a instanceof Promise?(this.loading=!0,a.then(this.hide.bind(this),(function(t){console.error(t),o.loaded()}))):e().modal.close()}},n.formatDate=function(t,o){void 0===o&&(o=!1);var n=dayjs(t);return n.isValid()?n.format("YYYY-MM-DDTHH:mm"):!1!==o?this.formatDate(o):null},n.dateToTimestamp=function(t){var o=dayjs(t);return!!o.isValid()&&o.format()},o}(V()),k=function(t){t.prototype.addPoll=function(){var t=this;e().modal.show(C,{poll:this.composer.fields.poll,onsubmit:function(o){return t.composer.fields.poll=o}})},(0,a.extend)(t.prototype,"headerItems",(function(t){var o,n,a,l=null==(o=this.composer.body)||null==(n=o.attrs)?void 0:n.discussion;(null!=(a=null==l?void 0:l.canStartPoll())?a:e().forum.canStartPolls())&&t.add("polls",m("a",{className:"ComposerBody-poll",onclick:this.addPoll.bind(this)},m("span",{className:d()("PollLabel",!this.composer.fields.poll&&"none")},e().translator.trans("fof-polls.forum.composer_discussion."+(this.composer.fields.poll?"edit":"add")+"_poll"))),1)})),(0,a.extend)(t.prototype,"data",(function(t){this.composer.fields.poll&&(t.poll=this.composer.fields.poll)}))};const A=flarum.core.compat["forum/components/CommentPost"];var S=t.n(A);const j=flarum.core.compat["common/Component"];var U=t.n(j);const q=flarum.core.compat["forum/components/LogInModal"];var B=t.n(q);const T=flarum.core.compat["common/helpers/avatar"];var E=t.n(T);const F=flarum.core.compat["common/helpers/username"];var H=t.n(F);const L=flarum.core.compat["common/components/Link"];var R=t.n(L);const Y=flarum.core.compat["common/components/LoadingIndicator"];var z=t.n(Y),J=function(t){function o(){return t.apply(this,arguments)||this}g(o,t);var n=o.prototype;return n.oninit=function(o){var n=this;t.prototype.oninit.call(this,o),this.loading=I()(!0),e().store.find("fof/polls",this.attrs.poll.id(),{include:"votes,votes.user,votes.option"}).then((function(){return n.loading(!1)})).finally((function(){return m.redraw()}))},n.className=function(){return"Modal--medium VotesModal"},n.title=function(){return e().translator.trans("fof-polls.forum.votes_modal.title")},n.content=function(){return m("div",{className:"Modal-body"},this.loading()?m(z(),null):this.attrs.poll.options().map(this.optionContent.bind(this)))},n.optionContent=function(t){var o=(this.attrs.poll.votes()||[]).filter((function(o){return t.id()===o.option().id()}));return m("div",{className:"VotesModal-option"},m("h2",null,t.answer()+":"),o.length?m("div",{className:"VotesModal-list"},o.map(this.voteContent.bind(this))):m("h4",null,e().translator.trans("fof-polls.forum.modal.no_voters")))},n.voteContent=function(t){var o=t.user(),n=o&&{href:e().route.user(o)};return m(R(),n,E()(o)," ",H()(o))},o}(V());const $=flarum.core.compat["common/components/Tooltip"];var G=t.n($),K=function(t){function o(){return t.apply(this,arguments)||this}g(o,t);var n=o.prototype;return n.oninit=function(o){t.prototype.oninit.call(this,o),this.poll=this.attrs.poll,this.options=this.poll.options(),this.optionAnswers=this.options.map((function(t){return I()(t.answer())})),this.optionImageUrls=this.options.map((function(t){return I()(t.imageUrl())})),this.question=I()(this.poll.question()),this.endDate=I()(this.formatDate(this.poll.endDate())),this.publicPoll=I()(this.poll.publicPoll()),this.allowMultipleVotes=I()(this.poll.allowMultipleVotes()),this.maxVotes=I()(this.poll.maxVotes()||0),this.endDate()&&dayjs(this.poll.endDate()).isAfter(dayjs())&&(this.datepickerMinDate=this.formatDate(this.endDate()))},n.title=function(){return e().translator.trans("fof-polls.forum.modal.edit_title")},n.displayOptions=function(){var t=this;return this.options.map((function(o,n){return m("div",{className:"Form-group"},m("fieldset",{className:"Poll-answer-input"},m("input",{className:"FormControl",type:"text",name:"answer"+(n+1),bidi:t.optionAnswers[n],placeholder:e().translator.trans("fof-polls.forum.modal.option_placeholder")+" #"+(n+1)}),e().forum.attribute("allowPollOptionImage")?m("input",{className:"FormControl",type:"text",name:"answerImage"+(n+1),bidi:t.optionImageUrls[n],placeholder:e().translator.trans("fof-polls.forum.modal.image_option_placeholder")+" #"+(n+1)}):null),n>=2?w().component({type:"button",className:"Button PollModal--button",icon:"fas fa-minus",onclick:n>=2?t.removeOption.bind(t,n):""}):"")}))},n.addOption=function(){var t=e().data["fof-polls.options.max"],o=t&&parseInt(t)||11;this.options.length<o?(this.options.push(e().store.createRecord("poll_options")),this.optionAnswers.push(I()("")),this.optionImageUrls.push(I()(""))):alert(e().translator.trans("fof-polls.forum.modal.max"))},n.removeOption=function(t){this.options.splice(t,1),this.optionAnswers.splice(t,1),this.optionImageUrls.splice(t,1)},n.data=function(){var t=this,o=this.options.map((function(o,n){return o.data.attributes||(o.data.attributes={}),o.data.attributes.answer=t.optionAnswers[n](),o.data.attributes.imageUrl=t.optionImageUrls[n](),o.data}));return{question:this.question(),endDate:this.dateToTimestamp(this.endDate()),publicPoll:this.publicPoll(),allowMultipleVotes:this.allowMultipleVotes(),maxVotes:this.maxVotes(),options:o}},n.onsubmit=function(t){var o=this;if(t.preventDefault(),!this.loading)return this.loading=!0,this.poll.save(this.data()).then((function(){o.hide(),m.redraw()})).catch((function(t){o.loaded(),o.onerror(t)}))},o}(C),Q=function(t){function o(){return t.apply(this,arguments)||this}g(o,t);var n=o.prototype;return n.oninit=function(o){t.prototype.oninit.call(this,o),this.loadingOptions=!1},n.view=function(){var t=this.attrs.poll,o=t.options()||[],n=t.allowMultipleVotes()?t.maxVotes():1;return 0===n&&(n=o.length),m("div",{className:"Post-poll","data-id":t.id()},m("div",{className:"PollHeading"},m("h3",{className:"PollHeading-title"},t.question()),t.canSeeVoters()&&m(G(),{text:e().translator.trans("fof-polls.forum.public_poll")},m(w(),{className:"Button PollHeading-voters",onclick:this.showVoters.bind(this),icon:"fas fa-poll"})),t.canEdit()&&m(G(),{text:e().translator.trans("fof-polls.forum.moderation.edit")},m(w(),{className:"Button PollHeading-edit",onclick:e().modal.show.bind(e().modal,K,{poll:t}),icon:"fas fa-pen"})),t.canDelete()&&m(G(),{text:e().translator.trans("fof-polls.forum.moderation.delete")},m(w(),{className:"Button PollHeading-delete",onclick:this.deletePoll.bind(this),icon:"fas fa-trash"}))),m("div",{className:"PollOptions"},o.map(this.viewOption.bind(this))),m("div",{className:"helpText PollInfoText"},e().session.user&&!t.canVote()&&!t.hasEnded()&&m("span",null,m("i",{className:"icon fas fa-times-circle"}),e().translator.trans("fof-polls.forum.no_permission")),null!==t.endDate()&&m("span",null,m("i",{class:"icon fas fa-clock"}),t.hasEnded()?e().translator.trans("fof-polls.forum.poll_ended"):e().translator.trans("fof-polls.forum.days_remaining",{time:dayjs(t.endDate()).fromNow()})),t.canVote()&&m("span",null,m("i",{className:"icon fas fa-poll"}),e().translator.trans("fof-polls.forum.max_votes_allowed",{max:n}))))},n.viewOption=function(t){var o,n,a=this.attrs.poll,l=(null==(o=a.myVotes())?void 0:o.length)>0,s=a.voteCount(),i=null==(n=a.myVotes())||null==n.some?void 0:n.some((function(o){return o.option()===t})),r=t.voteCount(),p=s>0?Math.round(r/s*100):0,u="number"==typeof r,c=this.loadingOptions||l&&!a.canChangeVote(),f=m("div",{className:"PollBar","data-selected":i},(!a.hasEnded()&&a.canVote()||!e().session.user)&&m("label",{className:"checkbox"},m("input",{onchange:this.changeVote.bind(this,t),type:"checkbox",checked:i,disabled:c}),m("span",{className:"checkmark"})),m("div",{style:u&&"--width: "+p+"%",className:"PollOption-active"}),m("label",{className:"PollAnswer"},m("span",null,t.answer()),t.imageUrl()?m("img",{className:"PollAnswerImage",src:t.imageUrl(),alt:t.answer()}):null),u&&m("label",null,m("span",{className:d()("PollPercent",100!==p&&"PollPercent--option")},p,"%")));return m("div",{className:d()("PollOption",l&&"PollVoted",a.hasEnded()&&"PollEnded",t.imageUrl()&&"PollOption-hasImage"),"data-id":t.id()},u?m(G(),{text:e().translator.trans("fof-polls.forum.tooltip.votes",{count:r}),onremove:this.hideOptionTooltip},f):f)},n.changeVote=function(t,o){var n,a,l=this;if(!e().session.user)return e().modal.show(B()),void(o.target.checked=!1);var s=new Set(null==(n=(a=this.attrs.poll.myVotes()).map)?void 0:n.call(a,(function(t){return t.option().id()}))),i=s.delete(t.id());return this.attrs.poll.allowMultipleVotes()||s.clear(),i||s.add(t.id()),this.loadingOptions=!0,m.redraw(),e().request({method:"PATCH",url:e().forum.attribute("apiUrl")+"/fof/polls/"+this.attrs.poll.id()+"/votes",body:{data:{optionIds:Array.from(s)}}}).then((function(t){e().store.pushPayload(t)})).catch((function(){o.target.checked=i})).finally((function(){l.loadingOptions=!1,m.redraw()}))},n.showVoters=function(){e().modal.show(J,{poll:this.attrs.poll,post:this.attrs.post})},n.deletePoll=function(){confirm(e().translator.trans("fof-polls.forum.moderation.delete_confirm"))&&this.attrs.poll.delete().then((function(){m.redraw.sync()}))},n.hideOptionTooltip=function(t){t.attrs.tooltipVisible=!1,t.state.updateVisibility()},o}(U());const W=flarum.core.compat["forum/components/DiscussionPage"];var X=t.n(W);function Z(t,o){(null==o||o>t.length)&&(o=t.length);for(var n=0,e=new Array(o);n<o;n++)e[n]=t[n];return e}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},tt.apply(this,arguments)}const ot=flarum.core.compat["forum/utils/PostControls"];var nt=t.n(ot),et={CreatePollModal:C,PostPoll:Q,EditPollModal:K,ListVotersModal:J};const at=flarum.core.compat["common/Model"];var lt=t.n(at),st=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this).question=lt().attribute("question"),o.hasEnded=lt().attribute("hasEnded"),o.endDate=lt().attribute("endDate"),o.publicPoll=lt().attribute("publicPoll"),o.allowMultipleVotes=lt().attribute("allowMultipleVotes"),o.maxVotes=lt().attribute("maxVotes"),o.voteCount=lt().attribute("voteCount"),o.canVote=lt().attribute("canVote"),o.canEdit=lt().attribute("canEdit"),o.canDelete=lt().attribute("canDelete"),o.canSeeVoters=lt().attribute("canSeeVoters"),o.canChangeVote=lt().attribute("canChangeVote"),o.options=lt().hasMany("options"),o.votes=lt().hasMany("votes"),o.myVotes=lt().hasMany("myVotes"),o}return g(o,t),o.prototype.apiEndpoint=function(){return"/fof/polls"+(this.exists?"/"+this.data.id:"")},o}(lt()),it=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this).answer=lt().attribute("answer"),o.imageUrl=lt().attribute("imageUrl"),o.voteCount=lt().attribute("voteCount"),o.poll=lt().hasOne("polls"),o.votes=lt().hasMany("votes"),o}return g(o,t),o.prototype.apiEndpoint=function(){return"/fof/polls/answers"+(this.exists?"/"+this.data.id:"")},o}(lt()),rt=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this).poll=lt().hasOne("poll"),o.option=lt().hasOne("option"),o.user=lt().hasOne("user"),o.pollId=lt().attribute("pollId"),o.optionId=lt().attribute("optionId"),o}return g(o,t),o.prototype.apiEndpoint=function(){return"/fof/polls/"+this.pollId()+"/vote"},o}(lt()),pt={Poll:st,PollOption:it,PollVote:rt};const mt=flarum.core.compat["common/extenders"];var ut=t.n(mt);const ct=flarum.core.compat["common/models/Post"];var dt=t.n(ct);const ft=flarum.core.compat["common/models/Forum"];var ht=t.n(ft);const vt=[(new(ut().Store)).add("polls",st).add("poll_options",it).add("poll_votes",rt),new(ut().Model)(dt()).hasMany("polls").attribute("canStartPoll"),new(ut().Model)(ht()).attribute("canStartPolls"),new(ut().Model)(u()).attribute("hasPoll").attribute("canStartPoll")];e().initializers.add("fof/polls",(function(){var t;(0,a.extend)(r().prototype,"requestParams",(function(t){t.include.push("poll")})),(0,a.extend)(u().prototype,"badges",(function(t){this.hasPoll()&&t.add("poll",s().component({type:"poll",label:e().translator.trans("fof-polls.forum.tooltip.badge"),icon:"fas fa-signal"}),5)})),k(h()),k(b()),(0,a.extend)(S().prototype,"content",(function(t){var o=this.attrs.post;if((!o.isHidden()||this.revealContent)&&o.polls())for(var n,e=function(t,o){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,o){if(t){if("string"==typeof t)return Z(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,o):void 0}}(t))||o&&t&&"number"==typeof t.length){n&&(t=n);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o.polls());!(n=e()).done;){var a=n.value;a&&t.push(m(Q,{post:o,poll:a}))}})),(0,a.extend)(S().prototype,"oninit",(function(){var t=this;this.subtree.check((function(){var o=t.attrs.post.polls(),n=null==o||null==o.map?void 0:o.map((function(t){var o,n,e,a,l;return t&&[null==(o=t.data)?void 0:o.attributes,null==(n=(e=t.options()).map)?void 0:n.call(e,(function(t){var o;return null==t||null==(o=t.data)?void 0:o.attributes})),null==(a=(l=t.myVotes()).map)?void 0:a.call(l,(function(t){var o;return null==(o=t.option())?void 0:o.id()}))]}));return JSON.stringify(n)}))})),(0,a.extend)(X().prototype,"oncreate",(function(){e().pusher&&e().pusher.then((function(t){t.channels.main.bind("updatedPollOptions",(function(t){var o=e().store.getById("polls",t.pollId);o&&o.pushAttributes({voteCount:t.pollVoteCount});var n=t.options;for(var a in n){var l=e().store.getById("poll_options",a);l&&void 0!==l.voteCount()&&l.pushAttributes({voteCount:n[a]})}m.redraw()}))}))})),(0,a.extend)(X().prototype,"onremove",(function(){e().pusher&&e().pusher.then((function(t){t.channels.main.unbind("updatedPollOptions")}))})),t=function(t){return e().modal.show(C,{onsubmit:function(o){return e().store.createRecord("polls").save(tt({},o,{relationships:{post:t}}),{data:{include:"options,myVotes,myVotes.option"}}).then((function(o){var n;return null==(n=t.rawRelationship("polls"))||null==n.push||n.push({type:"polls",id:o.id()}),o}))}})},(0,a.extend)(nt(),"moderationControls",(function(o,n){!n.isHidden()&&n.canStartPoll()&&o.add("addPoll",m(w(),{icon:"fas fa-poll",onclick:t.bind(this,n)},e().translator.trans("fof-polls.forum.moderation.add")))}))}))})(),module.exports=o})();
//# sourceMappingURL=forum.js.map