module.exports=function(t){var e={};function a(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=42)}([function(t,e){t.exports=flarum.core.compat.Model},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["components/Button"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionComposer"]},function(t,e){var a=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=a)},function(t,e){t.exports=flarum.core.compat["utils/mixin"]},function(t,e,a){t.exports=a(63)},function(t,e){t.exports=flarum.core.compat["components/Modal"]},function(t,e){},function(t,e){t.exports=flarum.core.compat.app},function(t,e){t.exports=flarum.core.compat["models/User"]},function(t,e){var a=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(t,e,a){t.exports=!a(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=flarum.core.compat["models/Discussion"]},,function(t,e,a){var r=a(11),n=a(4),o=a(45),i=a(47),s=a(23),u=function(t,e,a){var l,m,c,d=t&u.F,p=t&u.G,D=t&u.S,h=t&u.P,f=t&u.B,g=t&u.W,M=p?n:n[e]||(n[e]={}),y=M.prototype,b=p?r:D?r[e]:(r[e]||{}).prototype;for(l in p&&(a=e),a)(m=!d&&b&&void 0!==b[l])&&s(M,l)||(c=m?b[l]:a[l],M[l]=p&&"function"!=typeof b[l]?a[l]:f&&m?o(c,r):g&&b[l]==c?function(t){var e=function(e,a,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,a)}return new t(e,a,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):h&&"function"==typeof c?o(Function.call,c):c,h&&((M.virtual||(M.virtual={}))[l]=c,t&u.R&&y&&!y[l]&&i(y,l,c)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,a){var r=a(17);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,a){var r=a(53),n=a(27);t.exports=Object.keys||function(t){return r(t,n)}},function(t,e,a){var r=a(54),n=a(24);t.exports=function(t){return r(n(t))}},function(t,e,a){var r=a(16),n=a(48),o=a(49),i=Object.defineProperty;e.f=a(12)?Object.defineProperty:function(t,e,a){if(r(t),e=o(e,!0),r(a),n)try{return i(t,e,a)}catch(t){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(t[e]=a.value),t}},function(t,e,a){var r=a(17),n=a(11).document,o=r(n)&&r(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},function(t,e){var a={}.hasOwnProperty;t.exports=function(t,e){return a.call(t,e)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var a=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:a)(t)}},function(t,e,a){var r=a(59)("keys"),n=a(61);t.exports=function(t){return r[t]||(r[t]=n(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},,function(t,e,a){"use strict";var r=a(9),n=a.n(r),o=a(1),i=a(3),s=a.n(i),u=a(0),l=a.n(u),c=a(30),d=a.n(c);function p(t,e){t.prototype=d()(e.prototype),t.prototype.constructor=t,t.__proto__=e}var D=a(5),h=a.n(D),f=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.apiEndpoint=function(){return"/reflar/polls"+(this.exists?"/"+this.data.id:"")},e}(h()(l.a,{question:l.a.attribute("question"),isEnded:l.a.attribute("isEnded"),endDate:l.a.attribute("endDate"),isPublic:l.a.attribute("isPublic"),answers:l.a.hasMany("answers"),votes:l.a.hasMany("votes")})),g=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.apiEndpoint=function(){return"/reflar/polls/answers"+(this.exists?"/"+this.data.id:"")},e}(h()(l.a,{answer:l.a.attribute("answer"),votes:l.a.attribute("votes"),percent:l.a.attribute("percent")})),M=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.apiEndpoint=function(){return"/reflar/polls/votes"+(this.exists?"/"+this.data.id:"")},e}(h()(l.a,{poll_id:l.a.attribute("poll_id"),user_id:l.a.attribute("user_id"),option_id:l.a.attribute("option_id"),user:l.a.hasOne("user")})),y=a(13),b=a.n(y),v=a(10),C=a.n(v),_=a(31),T=a.n(_);function F(){Object(o.extend)(b.a.prototype,"badges",function(t){this.Poll()&&t.add("poll",T.a.component({type:"poll",label:app.translator.trans("reflar-polls.forum.tooltip.badge"),icon:"fa fa-signal"}),5)})}var S=a(6),A=a.n(S),k=a(32),I=a.n(k),w=a(2),V=a.n(w),x=a(7),P=a.n(x),H=function(t){function e(){return t.apply(this,arguments)||this}p(e,t);var a=e.prototype;return a.init=function(){t.prototype.init.call(this),this.answers=this.props.poll.answers(),this.question=m.prop(this.props.poll.question()),this.pollCreator=this.props.poll.store.data.users[A()(this.props.poll.store.data.users)[0]],this.newAnswer=m.prop(""),this.endDate=m.prop(" UTC"===this.props.poll.endDate()?"":this.getDateTime(new Date(this.props.poll.endDate())))},a.className=function(){return"PollDiscussionModal Modal--small"},a.title=function(){return app.translator.trans("reflar-polls.forum.modal.edit_title")},a.getDateTime=function(t){void 0===t&&(t=new Date),isNaN(t)&&(t=new Date);var e=[t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes()];return e.forEach(function(t,a){t<10&&(e[a]="0"+t)}),t.getFullYear()+"-"+e[0]+"-"+e[1]+" "+e[2]+":"+e[3]},a.config=function(t){var e=this;t||$("#dtBox").DateTimePicker({init:function(){this},dateTimeFormat:"yyyy-MM-dd HH:mm",minDateTime:this.getDateTime(),settingValueOfElement:function(t){e.endDate(t),app.request({method:"PATCH",url:app.forum.attribute("apiUrl")+"/reflar/polls/"+e.props.poll.id()+"/endDate",data:{date:new Date(t),user_id:e.pollCreator.id()}})}})},a.content=function(){var t=this;return[m("div",{className:"Modal-body"},m("div",{className:"PollDiscussionModal-form"},m("div",null,m("fieldset",null,m("input",{type:"text",name:"question",className:"FormControl",value:this.question(),oninput:m.withAttr("value",this.updateQuestion.bind(this)),placeholder:app.translator.trans("reflar-polls.forum.modal.question_placeholder")}))),m("h4",null,app.translator.trans("reflar-polls.forum.modal.answers")),this.answers.map(function(e,a){return m("div",{className:"Form-group"},m("fieldset",{className:"Poll-answer-input"},m("input",{className:"FormControl",type:"text",oninput:m.withAttr("value",t.updateAnswer.bind(t,e)),value:e.answer(),placeholder:app.translator.trans("reflar-polls.forum.modal.answer_placeholder")+" #"+(a+1)})),a+1>=3?V.a.component({type:"button",className:"Button Button--warning Poll-answer-button",icon:"fa fa-minus",onclick:a+1>=3?t.removeOption.bind(t,e):""}):"",m("div",{className:"clear"}))}),m("div",{className:"Form-group"},m("fieldset",{className:"Poll-answer-input"},m("input",{className:"FormControl",type:"text",oninput:m.withAttr("value",this.newAnswer),placeholder:app.translator.trans("reflar-polls.forum.modal.answer_placeholder")+" #"+(this.answers.length+1)})),V.a.component({type:"button",className:"Button Button--warning Poll-answer-button",icon:"fa fa-plus",onclick:this.addAnswer.bind(this)})),m("div",{className:"clear"}),m("div",{style:"margin-top: 20px",className:"Form-group"},m("fieldset",{style:"margin-bottom: 15px",className:"Poll-answer-input"},m("input",{style:"opacity: 1",className:"FormControl",type:"text","data-field":"datetime",value:this.endDate()||app.translator.trans("reflar-polls.forum.modal.date_placeholder"),id:"dtInput","data-min":this.getDateTime(),readonly:!0}),m("div",{id:"dtBox"}))),m("div",{className:"clear"})),V.a.component({className:"Button Button--primary PollModal-SubmitButton",children:app.translator.trans("reflar-polls.forum.modal.submit"),onclick:function(){app.modal.close()}}))]},a.onhide=function(){this.props.poll.answers=m.prop(this.answers),this.props.poll.question=this.question,""!==this.endDate()&&(this.props.poll.endDate=this.endDate),m.redraw.strategy("all")},a.addAnswer=function(t){var e=this,a={answer:this.newAnswer(),poll_id:this.props.poll.id(),user_id:this.pollCreator.id()};this.answers.length<10?app.store.createRecord("answers").save(a).then(function(t){e.answers.push(t),e.newAnswer(""),m.redraw.strategy("all"),m.redraw()}):alert(app.translator.trans("reflar-polls.forum.modal.max"))},a.removeOption=function(t){var e=this;app.request({method:"DELETE",url:app.forum.attribute("apiUrl")+"/reflar/polls/answers/"+t.data.id,data:this.pollCreator.id()}),this.answers.some(function(a,r){if(a.data.id===t.data.id)return e.answers.splice(r,1),!0})},a.updateAnswer=function(t,e){app.request({method:"PATCH",url:app.forum.attribute("apiUrl")+"/reflar/polls/answers/"+t.data.id,data:{answer:e,user_id:this.pollCreator.id()}}),this.answers.some(function(a){if(a.data.id===t.data.id)return a.data.attributes.answer=e,!0})},a.updateQuestion=function(t){if(""===t)return alert(app.translator.trans("reflar-polls.forum.modal.include_question")),void this.question("");app.request({method:"PATCH",url:app.forum.attribute("apiUrl")+"/reflar/polls/"+this.props.poll.id(),data:{question:t,user_id:this.pollCreator.id()}}),this.question=m.prop(t),m.redraw()},e}(P.a),E=function(){Object(o.extend)(I.a,"moderationControls",function(t,e){var a=e.discussion(),r=a.Poll(),n=app.session.user;a.Poll()&&(void 0!==n&&n.canEditPolls()||e.user().canSelfEditPolls()&&e.user().id()===n.id())&&1===e.number()&&(r.isEnded()||t.add("editPoll",[m(V.a,{icon:"fa fa-check-square",className:"reflar-PollButton",onclick:function(){app.modal.show(new H({post:e,poll:r}))}},app.translator.trans("reflar-polls.forum.moderation.edit"))]),t.add("removePoll",[m(V.a,{icon:"fa fa-trash",className:"reflar-PollButton",onclick:function(){confirm(app.translator.trans("reflar-polls.forum.moderation.delete_confirm"))&&app.request({url:app.forum.attribute("apiUrl")+"/reflar/polls/"+r.id(),method:"DELETE",data:r.store.data.users[A()(r.store.data.users)[0]].id()}).then(function(){location.reload()})}},app.translator.trans("reflar-polls.forum.moderation.delete"))]))})},O=a(33),B=a.n(O),N=a(34),j=a.n(N),Y=a(35),q=a.n(Y),U=a(36),L=a.n(U),W=a(37),R=a.n(W),J=a(38),z=a.n(J),Q=a(39),G=a.n(Q),K=function(t){function e(){return t.apply(this,arguments)||this}p(e,t);var a=e.prototype;return a.className=function(){return"Modal--small"},a.title=function(){return app.translator.trans("reflar-polls.forum.votes_modal.title")},a.getUsers=function(t){var e=[];e="function"==typeof this.props.votes?this.props.votes():this.props.votes;var a=new L.a,r=0;return e.map(function(e){var n=e.user();parseInt(t.id())===parseInt(e.data.attributes.option_id)&&(r++,a.add(n.id(),m("a",{href:app.route.user(n),config:m.route},R()(n)," "," ",z()(n))))}),0===r&&a.add("none",m("h4",{style:"color: #000"},app.translator.trans("reflar-polls.forum.modal.no_voters"))),a},a.content=function(){var t=this;return"function"==typeof this.props.answers?this.answers=this.props.answers():this.answers=this.props.answers,m("div",{className:"Modal-body"},m("ul",{className:"VotesModal-list"},this.answers.map(function(e){return m("div",null,m("h2",null,e.answer()+":"),G()(t.getUsers(e).toArray()))})))},e}(P.a),X=function(t){function e(){return t.apply(this,arguments)||this}p(e,t);var a=e.prototype;return a.init=function(){var t=this;this.poll=this.props.poll,this.votes=this.poll.votes(),this.voted=m.prop(!1),this.user=app.session.user,this.answers=[],this.poll.answers().forEach(function(e){t.answers[e.id()]=e}),void 0!==this.user&&(this.user.canVote()?app.store.find("reflar/polls/votes",{poll_id:this.poll.id(),user_id:this.user.id()}).then(function(e){void 0!==e[0]?t.voted(e[0]):t.poll.isEnded()&&t.voted(!0),m.redraw()}):this.voted(!0))},a.showVoters=function(){app.modal.show(new K(this.poll))},a.onError=function(t,e){t.srcElement.checked=!1,app.alerts.show(e.alert)},a.changeVote=function(t,e){var a=this,r=this.voted().id(),n=this.voted().option_id();app.request({method:"PATCH",url:app.forum.attribute("apiUrl")+"/reflar/polls/votes/"+t.id(),errorHandler:this.onError.bind(this,e),data:{option_id:t.id(),poll_id:this.poll.id()}}).then(function(e){a.answers[t.id()].data.attributes.votes++,a.answers[n].data.attributes.votes--,a.votes.some(function(t,n){t.data.id===r&&(a.votes[n].data.attributes.option_id=e.data.attributes.option_id)}),a.poll.data.relationships.votes.data.some(function(t){if("function"==typeof t.id)var a=t.id();else a=t.id;if(r===parseInt(a))return t.option_id=m.prop(e.data.attributes.option_id),!0}),a.poll.votes=m.prop(a.votes),m.redraw.strategy("all"),m.redraw()})},a.view=function(){var t=this;return!1!==this.voted()?m("div",null,m("h3",null,this.poll.question()),this.answers.map(function(e){var a=!1;!0!==t.voted()&&(a=parseInt(t.voted().option_id())===e.data.attributes.id,m.redraw());var r=Math.round(e.votes()/t.poll.votes().length*100);return m("div",{className:"PollOption PollVoted"},m("div",{title:e.votes()>=1?e.votes()+" "+app.translator.trans("reflar-polls.forum.tooltip.vote"):e.votes()+" "+app.translator.trans("reflar-polls.forum.tooltip.votes"),className:"PollBar","data-selected":a,config:function(t){$(t).tooltip({placement:"right"})}},t.poll.isEnded()||!0===t.voted?"":m("label",{className:"checkbox"},a?m("input",{onchange:t.changeVote.bind(t,e),type:"checkbox",checked:!0}):m("input",{onchange:t.changeVote.bind(t,e),type:"checkbox"}),m("span",{className:"checkmark"})),m("div",{style:"--width: "+r+"%",className:"PollOption-active"}),m("label",{style:t.poll.isEnded()?"":"margin-left: 25px",className:"PollAnswer"},m("span",null,e.answer())),m("label",null,m("span",{className:100!==r?"PollPercent PollPercent--option":"PollPercent"},r,"%"))))}),m("div",{className:"clear"}),this.poll.isPublic()?V.a.component({className:"Button Button--primary PublicPollButton",children:app.translator.trans("reflar-polls.forum.public_poll"),onclick:function(){app.modal.show(new K({votes:t.votes,answers:t.answers}))}}):"",m("div",{className:"clear"}),this.user.canVote()?this.poll.isEnded()?m("div",{className:"helpText PollInfoText"},app.translator.trans("reflar-polls.forum.poll_ended")):isNaN(new Date(this.poll.endDate()))?"":m("div",{className:"helpText PollInfoText"},m("i",{class:"icon fa fa-clock-o"})," ",app.translator.trans("reflar-polls.forum.days_remaining",{time:moment(this.poll.endDate()).fromNow()})):m("div",{className:"helpText PollInfoText"},app.translator.trans("reflar-polls.forum.no_permission")),m("div",{className:"clear"})):m("div",null,m("h3",null,this.poll.question()),this.answers.map(function(e){return m("div",{className:"PollOption"},m("div",{className:"PollBar"},m("label",{className:"checkbox"},m("input",{type:"checkbox",onchange:t.addVote.bind(t,e)}),m("span",null,e.answer()),m("span",{className:"checkmark"}))))}),m("div",{className:"clear"}),this.poll.isPublic()&&void 0!==app.session.user?V.a.component({className:"Button Button--primary PublicPollButton",children:app.translator.trans("reflar-polls.forum.public_poll"),onclick:function(){app.modal.show(new K(t.poll))}}):"",this.poll.isEnded()?m("div",{className:"helpText PollInfoText"},app.translator.trans("reflar-polls.forum.poll_ended")):isNaN(new Date(this.poll.endDate()))?"":m("div",{className:"helpText PollInfoText"},m("i",{class:"icon fa fa-clock-o"})," ",app.translator.trans("reflar-polls.forum.days_remaining",{time:moment(this.poll.endDate()).fromNow()})))},a.addVote=function(t,e){var a=this;void 0===this.user?(app.modal.show(new q.a),e.srcElement.checked=!1):app.store.createRecord("votes").save({poll_id:this.poll.id(),option_id:t.id()}).then(function(e){a.answers[t.id()].data.attributes.votes++,a.voted(e),a.poll.data.relationships.votes.data.push(e),a.votes.push(e),m.redraw()})},e}(j.a),Z=a(40),tt=a.n(Z),et=a(41),at=a.n(et),rt=(a(71),function(t){function e(){return t.apply(this,arguments)||this}p(e,t);var a=e.prototype;return a.init=function(){if(t.prototype.init.call(this),this.answer=[],this.question=m.prop(""),this.answer[0]=m.prop(""),this.answer[1]=m.prop(""),this.endDate=m.prop(),this.publicPoll=m.prop(!1),this.props.poll){var e=this.props.poll;this.answer=tt()(e.answers),this.question(e.question),this.endDate(isNaN(e.endDate)?"":this.getDateTime(e.endDate)),this.publicPoll(e.publicPoll)}},a.className=function(){return"PollDiscussionModal Modal--small"},a.getDateTime=function(t){void 0===t&&(t=new Date),isNaN(t)&&(t=new Date);var e=[t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes()];return e.forEach(function(t,a){t<10&&(e[a]="0"+t)}),t.getFullYear()+"-"+e[0]+"-"+e[1]+" "+e[2]+":"+e[3]},a.title=function(){return app.translator.trans("reflar-polls.forum.modal.add_title")},a.config=function(){var t=this;$("#dtBox").DateTimePicker({init:function(){this},dateTimeFormat:"yyyy-MM-dd HH:mm",minDateTime:this.getDateTime(),settingValueOfElement:function(e){t.endDate(e)}})},a.content=function(){var t=this;return[m("div",{className:"Modal-body"},m("div",{className:"PollDiscussionModal-form"},m("div",null,m("fieldset",null,m("input",{type:"text",name:"question",className:"FormControl",bidi:this.question,placeholder:app.translator.trans("reflar-polls.forum.modal.question_placeholder")}))),m("h4",null,app.translator.trans("reflar-polls.forum.modal.answers")),A()(this.answer).map(function(e,a){return m("div",{className:""===t.answer[a+1]?"Form-group hide":"Form-group"},m("fieldset",{className:"Poll-answer-input"},m("input",{className:"FormControl",type:"text",name:"answer"+(a+1),bidi:t.answer[a],placeholder:app.translator.trans("reflar-polls.forum.modal.answer_placeholder")+" #"+(a+1)}),m("div",{id:"dtBox"})),a+1>=3?V.a.component({type:"button",className:"Button Button--warning Poll-answer-button",icon:"fa fa-minus",onclick:a+1>=3?t.removeOption.bind(t,a):""}):"",m("div",{className:"clear"}))}),V.a.component({className:"Button Button--primary PollModal-Button",children:app.translator.trans("reflar-polls.forum.modal.add"),onclick:this.addOption.bind(this)}),m("div",{className:"Form-group"},m("fieldset",{style:"margin-bottom: 15px",className:"Poll-answer-input"},m("input",{style:"opacity: 1; color: inherit",className:"FormControl",type:"text","data-field":"datetime",value:this.endDate()||app.translator.trans("reflar-polls.forum.modal.date_placeholder"),id:"dtInput","data-min":this.getDateTime(),readonly:!0})),m("div",{className:"clear"}),at.a.component({state:this.publicPoll()||!1,children:app.translator.trans("reflar-polls.forum.modal.switch"),onchange:this.publicPoll}),m("div",{className:"clear"}),V.a.component({type:"submit",className:"Button Button--primary PollModal-SubmitButton",children:app.translator.trans("reflar-polls.forum.modal.submit")}))))]},a.addOption=function(){this.answer.length<11?this.answer.push(m.prop("")):alert(app.translator.trans("reflar-polls.forum.modal.max"))},a.removeOption=function(t){var e=this;this.answer.forEach(function(a,r){r===t&&e.answer.splice(r,1)})},a.objectSize=function(t){var e,a=0;for(e in t)""!==t[e]&&a++;return a},a.onsubmit=function(t){t.preventDefault();var e={question:this.question(),answers:{},endDate:new Date(this.endDate()),publicPoll:this.publicPoll()};""!==this.question()?(this.answer.map(function(t,a){""!==t()&&(e.answers[a]=t)}),this.objectSize(e.answers)<2?alert(app.translator.trans("reflar-polls.forum.modal.min")):(Object(o.extend)(s.a.prototype,"data",function(t){t.poll=e}),app.modal.close(),m.redraw.strategy("none"))):alert(app.translator.trans("reflar-polls.forum.modal.include_question"))},e}(P.a));n.a.initializers.add("reflar-polls",function(t){t.store.models.answers=g,t.store.models.questions=f,t.store.models.votes=M,b.a.prototype.Poll=l.a.hasOne("Poll"),C.a.prototype.canEditPolls=l.a.attribute("canEditPolls"),C.a.prototype.canStartPolls=l.a.attribute("canStartPolls"),C.a.prototype.canSelfEditPolls=l.a.attribute("canSelfEditPolls"),C.a.prototype.canVote=l.a.attribute("canVote"),s.a.prototype.addPoll=function(e){t.modal.show(new rt(e))},Object(o.extend)(s.a.prototype,"headerItems",function(e){t.session.user.canStartPolls()&&e.add("polls",m("a",{className:"DiscussionComposer-poll",onclick:this.addPoll.bind(this,this.data())},this.data().poll?m("span",{className:"PollLabel"},t.translator.trans("reflar-polls.forum.composer_discussion.edit")):m("span",{className:"PollLabel"},t.translator.trans("reflar-polls.forum.composer_discussion.add_poll"))),1)}),Object(o.extend)(s.a.prototype,"onsubmit",function(){Object(o.extend)(s.a.prototype,"data",function(t){t.poll=void 0})}),F(),Object(o.extend)(B.a.prototype,"content",function(t){var e=this.props.post.discussion();e.Poll()&&1===this.props.post.number()&&!this.props.post.isHidden()&&(this.subtree.invalidate(),t.push(X.component({poll:e.Poll()})))}),E()})},function(t,e,a){t.exports=a(43)},function(t,e){t.exports=flarum.core.compat["components/Badge"]},function(t,e){t.exports=flarum.core.compat["utils/PostControls"]},function(t,e){t.exports=flarum.core.compat["components/CommentPost"]},function(t,e){t.exports=flarum.core.compat.Component},function(t,e){t.exports=flarum.core.compat["components/LogInModal"]},function(t,e){t.exports=flarum.core.compat["utils/ItemList"]},function(t,e){t.exports=flarum.core.compat["helpers/avatar"]},function(t,e){t.exports=flarum.core.compat["helpers/username"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e,a){t.exports=a(67)},function(t,e){t.exports=flarum.core.compat["components/Switch"]},function(t,e,a){"use strict";a.r(e);var r=a(8);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(29)},function(t,e,a){a(44);var r=a(4).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,a){var r=a(15);r(r.S,"Object",{create:a(51)})},function(t,e,a){var r=a(46);t.exports=function(t,e,a){if(r(t),void 0===e)return t;switch(a){case 1:return function(a){return t.call(e,a)};case 2:return function(a,r){return t.call(e,a,r)};case 3:return function(a,r,n){return t.call(e,a,r,n)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,a){var r=a(21),n=a(50);t.exports=a(12)?function(t,e,a){return r.f(t,e,n(1,a))}:function(t,e,a){return t[e]=a,t}},function(t,e,a){t.exports=!a(12)&&!a(18)(function(){return 7!=Object.defineProperty(a(22)("div"),"a",{get:function(){return 7}}).a})},function(t,e,a){var r=a(17);t.exports=function(t,e){if(!r(t))return t;var a,n;if(e&&"function"==typeof(a=t.toString)&&!r(n=a.call(t)))return n;if("function"==typeof(a=t.valueOf)&&!r(n=a.call(t)))return n;if(!e&&"function"==typeof(a=t.toString)&&!r(n=a.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,a){var r=a(16),n=a(52),o=a(27),i=a(26)("IE_PROTO"),s=function(){},u=function(){var t,e=a(22)("iframe"),r=o.length;for(e.style.display="none",a(62).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var a;return null!==t?(s.prototype=r(t),a=new s,s.prototype=null,a[i]=t):a=u(),void 0===e?a:n(a,e)}},function(t,e,a){var r=a(21),n=a(16),o=a(19);t.exports=a(12)?Object.defineProperties:function(t,e){n(t);for(var a,i=o(e),s=i.length,u=0;s>u;)r.f(t,a=i[u++],e[a]);return t}},function(t,e,a){var r=a(23),n=a(20),o=a(56)(!1),i=a(26)("IE_PROTO");t.exports=function(t,e){var a,s=n(t),u=0,l=[];for(a in s)a!=i&&r(s,a)&&l.push(a);for(;e.length>u;)r(s,a=e[u++])&&(~o(l,a)||l.push(a));return l}},function(t,e,a){var r=a(55);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var a={}.toString;t.exports=function(t){return a.call(t).slice(8,-1)}},function(t,e,a){var r=a(20),n=a(57),o=a(58);t.exports=function(t){return function(e,a,i){var s,u=r(e),l=n(u.length),m=o(i,l);if(t&&a!=a){for(;l>m;)if((s=u[m++])!=s)return!0}else for(;l>m;m++)if((t||m in u)&&u[m]===a)return t||m||0;return!t&&-1}}},function(t,e,a){var r=a(25),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},function(t,e,a){var r=a(25),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?n(t+e,0):o(t,e)}},function(t,e,a){var r=a(4),n=a(11),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:a(60)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var a=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++a+r).toString(36))}},function(t,e,a){var r=a(11).document;t.exports=r&&r.documentElement},function(t,e,a){a(64),t.exports=a(4).Object.keys},function(t,e,a){var r=a(65),n=a(19);a(66)("keys",function(){return function(t){return n(r(t))}})},function(t,e,a){var r=a(24);t.exports=function(t){return Object(r(t))}},function(t,e,a){var r=a(15),n=a(4),o=a(18);t.exports=function(t,e){var a=(n.Object||{})[t]||Object[t],i={};i[t]=e(a),r(r.S+r.F*o(function(){a(1)}),"Object",i)}},function(t,e,a){a(68),t.exports=a(4).Object.values},function(t,e,a){var r=a(15),n=a(69)(!1);r(r.S,"Object",{values:function(t){return n(t)}})},function(t,e,a){var r=a(19),n=a(20),o=a(70).f;t.exports=function(t){return function(e){for(var a,i=n(e),s=r(i),u=s.length,l=0,m=[];u>l;)o.call(i,a=s[l++])&&m.push(t?[a,i[a]]:i[a]);return m}}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,a){var r,n,o;Object.keys||(Object.keys=function(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push(a);return e}),$.DateTimePicker=$.DateTimePicker||{name:"DateTimePicker",i18n:{},defaults:{mode:"date",defaultDate:null,dateSeparator:"-",timeSeparator:":",timeMeridiemSeparator:" ",dateTimeSeparator:" ",monthYearSeparator:" ",dateTimeFormat:"dd-MM-yyyy HH:mm",dateFormat:"dd-MM-yyyy",timeFormat:"HH:mm",maxDate:null,minDate:null,maxTime:null,minTime:null,maxDateTime:null,minDateTime:null,shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],labels:null,minuteInterval:1,roundOffMinutes:!0,secondsInterval:1,roundOffSeconds:!0,showHeader:!0,titleContentDate:"Set Date",titleContentTime:"Set Time",titleContentDateTime:"Set Date & Time",buttonsToDisplay:["HeaderCloseButton","SetButton","ClearButton"],setButtonContent:"Set",clearButtonContent:"Clear",incrementButtonContent:"+",decrementButtonContent:"-",setValueInTextboxOnEveryClick:!1,readonlyInputs:!1,animationDuration:400,touchHoldInterval:300,captureTouchHold:!1,mouseHoldInterval:50,captureMouseHold:!1,isPopup:!0,parentElement:"body",isInline:!1,inputElement:null,language:"",init:null,addEventHandlers:null,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null,buttonClicked:null,settingValueOfElement:null,formatHumanDate:null,parseDateTimeString:null,formatDateTimeString:null},dataObject:{dCurrentDate:new Date,iCurrentDay:0,iCurrentMonth:0,iCurrentYear:0,iCurrentHour:0,iCurrentMinutes:0,iCurrentSeconds:0,sCurrentMeridiem:"",iMaxNumberOfDays:0,sDateFormat:"",sTimeFormat:"",sDateTimeFormat:"",dMinValue:null,dMaxValue:null,sArrInputDateFormats:[],sArrInputTimeFormats:[],sArrInputDateTimeFormats:[],bArrMatchFormat:[],bDateMode:!1,bTimeMode:!1,bDateTimeMode:!1,oInputElement:null,iTabIndex:0,bElemFocused:!1,bIs12Hour:!1,sTouchButton:null,iTouchStart:null,oTimeInterval:null,bIsTouchDevice:"ontouchstart"in document.documentElement}},$.cf={_isValid:function(t){return void 0!==t&&null!==t&&""!==t},_compare:function(t,e){return!(!(void 0!==t&&null!==t)||!(void 0!==e&&null!==e))&&t.toLowerCase()===e.toLowerCase()}},n=[a(72)],void 0===(o="function"==typeof(r=function(t){"use strict";function e(e,a){this.element=e;var r="";r=t.cf._isValid(a)&&t.cf._isValid(a.language)?a.language:t.DateTimePicker.defaults.language,this.settings=t.extend({},t.DateTimePicker.defaults,t.DateTimePicker.i18n[r],a),this.options=a,this.oData=t.extend({},t.DateTimePicker.dataObject),this._defaults=t.DateTimePicker.defaults,this._name=t.DateTimePicker.name,this.init()}t.fn.DateTimePicker=function(a){var r,n,o=t(this).data(),i=o?Object.keys(o):[];if("string"!=typeof a)return this.each(function(){t.removeData(this,"plugin_DateTimePicker"),t.data(this,"plugin_DateTimePicker")||t.data(this,"plugin_DateTimePicker",new e(this,a))});if(t.cf._isValid(o))if("destroy"===a){if(i.length>0)for(r in i)if(-1!==(n=i[r]).search("plugin_DateTimePicker")){t(document).unbind("click.DateTimePicker keydown.DateTimePicker keyup.DateTimePicker"),t(this).children().remove(),t(this).removeData(),t(this).unbind(),t(this).removeClass("dtpicker-overlay dtpicker-mobile dtpicker-inline"),o=o[n];break}}else if("object"===a&&i.length>0)for(r in i)if(-1!==(n=i[r]).search("plugin_DateTimePicker"))return o[n]},e.prototype={init:function(){var e=this;e._setDateFormatArray(),e._setTimeFormatArray(),e._setDateTimeFormatArray(),void 0!==t(e.element).data("parentelement")&&(e.settings.parentElement=t(e.element).data("parentelement")),e.settings.isPopup&&!e.settings.isInline&&(e._createPicker(),t(e.element).addClass("dtpicker-mobile")),e.settings.isInline&&(e._createPicker(),e._showPicker(e.settings.inputElement)),e.settings.init&&e.settings.init.call(e),e._addEventHandlersForInput()},_setDateFormatArray:function(){var t=this;t.oData.sArrInputDateFormats=[];var e="";e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",t.oData.sArrInputDateFormats.push(e),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MM"+t.settings.monthYearSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MMM"+t.settings.monthYearSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MMMM"+t.settings.monthYearSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="yyyy"+t.settings.monthYearSeparator+"MM",t.oData.sArrInputDateFormats.push(e)},_setTimeFormatArray:function(){var t=this;t.oData.sArrInputTimeFormats=[];var e="";e="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",t.oData.sArrInputTimeFormats.push(e),e="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",t.oData.sArrInputTimeFormats.push(e),e="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",t.oData.sArrInputTimeFormats.push(e),e="HH"+t.settings.timeSeparator+"mm",t.oData.sArrInputTimeFormats.push(e)},_setDateTimeFormatArray:function(){var t=this;t.oData.sArrInputDateTimeFormats=[];var e="",a="",r="";e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="HH"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r)},_matchFormat:function(e,a){var r=this;r.oData.bArrMatchFormat=[],r.oData.bDateMode=!1,r.oData.bTimeMode=!1,r.oData.bDateTimeMode=!1;var n,o=[];for(e=t.cf._isValid(e)?e:r.settings.mode,t.cf._compare(e,"date")?(a=t.cf._isValid(a)?a:r.oData.sDateFormat,r.oData.bDateMode=!0,o=r.oData.sArrInputDateFormats):t.cf._compare(e,"time")?(a=t.cf._isValid(a)?a:r.oData.sTimeFormat,r.oData.bTimeMode=!0,o=r.oData.sArrInputTimeFormats):t.cf._compare(e,"datetime")&&(a=t.cf._isValid(a)?a:r.oData.sDateTimeFormat,r.oData.bDateTimeMode=!0,o=r.oData.sArrInputDateTimeFormats),n=0;n<o.length;n++)r.oData.bArrMatchFormat.push(t.cf._compare(a,o[n]))},_setMatchFormat:function(t,e,a){t>0&&this._matchFormat(e,a)},_createPicker:function(){var e=this;e.settings.isInline?t(e.element).addClass("dtpicker-inline"):(t(e.element).addClass("dtpicker-overlay"),t(".dtpicker-overlay").click(function(t){e._hidePicker("")}));var a="";a+="<div class='dtpicker-bg'>",a+="<div class='dtpicker-cont'>",a+="<div class='dtpicker-content'>",a+="<div class='dtpicker-subcontent'>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",t(e.element).html(a)},_addEventHandlersForInput:function(){var e=this;if(!e.settings.isInline){e.oData.oInputElement=null,t(e.settings.parentElement).find("input[type='date'], input[type='time'], input[type='datetime']").each(function(){t(this).attr("data-field",t(this).attr("type")),t(this).attr("type","text")});var a="[data-field='date'], [data-field='time'], [data-field='datetime']";t(e.settings.parentElement).off("focus",a,e._inputFieldFocus).on("focus",a,{obj:e},e._inputFieldFocus),t(e.settings.parentElement).off("click",a,e._inputFieldClick).on("click",a,{obj:e},e._inputFieldClick)}e.settings.addEventHandlers&&e.settings.addEventHandlers.call(e)},_inputFieldFocus:function(t){var e=t.data.obj;e.showDateTimePicker(this),e.oData.bMouseDown=!1},_inputFieldClick:function(e){var a=e.data.obj;t.cf._compare(t(this).prop("tagName"),"input")||a.showDateTimePicker(this),e.stopPropagation()},getDateObjectForInputField:function(e){var a=this;if(t.cf._isValid(e)){var r,n=a._getValueOfElement(e),o=t(e).data("field"),i="";return t.cf._isValid(o)||(o=a.settings.mode),a.settings.formatDateTimeString?r=a.settings.parseDateTimeString.call(a,n,o,i,t(e)):(i=t(e).data("format"),t.cf._isValid(i)||(t.cf._compare(o,"date")?i=a.settings.dateFormat:t.cf._compare(o,"time")?i=a.settings.timeFormat:t.cf._compare(o,"datetime")&&(i=a.settings.dateTimeFormat)),a._matchFormat(o,i),t.cf._compare(o,"date")?r=a._parseDate(n):t.cf._compare(o,"time")?r=a._parseTime(n):t.cf._compare(o,"datetime")&&(r=a._parseDateTime(n))),r}},setDateTimeStringInInputField:function(e,a){var r,n=this;a=a||n.oData.dCurrentDate,t.cf._isValid(e)?(r=[],"string"==typeof e?r.push(e):"object"==typeof e&&(r=e)):r=t.cf._isValid(n.settings.parentElement)?t(n.settings.parentElement).find("[data-field='date'], [data-field='time'], [data-field='datetime']"):t("[data-field='date'], [data-field='time'], [data-field='datetime']"),r.each(function(){var e,r,o,i,s=this;e=t(s).data("field"),t.cf._isValid(e)||(e=n.settings.mode),r="Custom",o=!1,n.settings.formatDateTimeString||(r=t(s).data("format"),t.cf._isValid(r)||(t.cf._compare(e,"date")?r=n.settings.dateFormat:t.cf._compare(e,"time")?r=n.settings.timeFormat:t.cf._compare(e,"datetime")&&(r=n.settings.dateTimeFormat)),o=n.getIs12Hour(e,r)),i=n._setOutput(e,r,o,a,s),n._setValueOfElement(i,t(s))})},getDateTimeStringInFormat:function(t,e,a){return this._setOutput(t,e,this.getIs12Hour(t,e),a)},showDateTimePicker:function(t){var e=this;null!==e.oData.oInputElement?e.settings.isInline||e._hidePicker(0,t):e._showPicker(t)},_setButtonAction:function(t){var e=this;null!==e.oData.oInputElement&&(e._setValueOfElement(e._setOutput()),t?(e.settings.buttonClicked&&e.settings.buttonClicked.call(e,"TAB",e.oData.oInputElement),e.settings.isInline||e._hidePicker(0)):e.settings.isInline||e._hidePicker(""))},_setOutput:function(e,a,r,n,o){var i=this;n=t.cf._isValid(n)?n:i.oData.dCurrentDate,r=r||i.oData.bIs12Hour;var s,u=i._setVariablesForDate(n,!0,!0),l="",m=i._formatDate(u),c=i._formatTime(u),d=t.extend({},m,c),p="",D="",h=Function.length;return i.settings.formatDateTimeString?l=i.settings.formatDateTimeString.call(i,d,e,a,o):(i._setMatchFormat(h,e,a),i.oData.bDateMode?i.oData.bArrMatchFormat[0]?l=d.dd+i.settings.dateSeparator+d.MM+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[1]?l=d.MM+i.settings.dateSeparator+d.dd+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[2]?l=d.yyyy+i.settings.dateSeparator+d.MM+i.settings.dateSeparator+d.dd:i.oData.bArrMatchFormat[3]?l=d.dd+i.settings.dateSeparator+d.monthShort+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[4]?l=d.MM+i.settings.monthYearSeparator+d.yyyy:i.oData.bArrMatchFormat[5]?l=d.monthShort+i.settings.monthYearSeparator+d.yyyy:i.oData.bArrMatchFormat[6]?l=d.month+i.settings.monthYearSeparator+d.yyyy:i.oData.bArrMatchFormat[7]&&(l=d.yyyy+i.settings.monthYearSeparator+d.MM):i.oData.bTimeMode?i.oData.bArrMatchFormat[0]?l=d.hh+i.settings.timeSeparator+d.mm+i.settings.timeSeparator+d.ss+i.settings.timeMeridiemSeparator+d.ME:i.oData.bArrMatchFormat[1]?l=d.HH+i.settings.timeSeparator+d.mm+i.settings.timeSeparator+d.ss:i.oData.bArrMatchFormat[2]?l=d.hh+i.settings.timeSeparator+d.mm+i.settings.timeMeridiemSeparator+d.ME:i.oData.bArrMatchFormat[3]&&(l=d.HH+i.settings.timeSeparator+d.mm):i.oData.bDateTimeMode&&(i.oData.bArrMatchFormat[0]||i.oData.bArrMatchFormat[1]||i.oData.bArrMatchFormat[8]||i.oData.bArrMatchFormat[9]?p=d.dd+i.settings.dateSeparator+d.MM+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[2]||i.oData.bArrMatchFormat[3]||i.oData.bArrMatchFormat[10]||i.oData.bArrMatchFormat[11]?p=d.MM+i.settings.dateSeparator+d.dd+i.settings.dateSeparator+d.yyyy:i.oData.bArrMatchFormat[4]||i.oData.bArrMatchFormat[5]||i.oData.bArrMatchFormat[12]||i.oData.bArrMatchFormat[13]?p=d.yyyy+i.settings.dateSeparator+d.MM+i.settings.dateSeparator+d.dd:(i.oData.bArrMatchFormat[6]||i.oData.bArrMatchFormat[7]||i.oData.bArrMatchFormat[14]||i.oData.bArrMatchFormat[15])&&(p=d.dd+i.settings.dateSeparator+d.monthShort+i.settings.dateSeparator+d.yyyy),s=i.oData.bArrMatchFormat[0]||i.oData.bArrMatchFormat[1]||i.oData.bArrMatchFormat[2]||i.oData.bArrMatchFormat[3]||i.oData.bArrMatchFormat[4]||i.oData.bArrMatchFormat[5]||i.oData.bArrMatchFormat[6]||i.oData.bArrMatchFormat[7],D=r?s?d.hh+i.settings.timeSeparator+d.mm+i.settings.timeSeparator+d.ss+i.settings.timeMeridiemSeparator+d.ME:d.hh+i.settings.timeSeparator+d.mm+i.settings.timeMeridiemSeparator+d.ME:s?d.HH+i.settings.timeSeparator+d.mm+i.settings.timeSeparator+d.ss:d.HH+i.settings.timeSeparator+d.mm,""!==p&&""!==D&&(l=p+i.settings.dateTimeSeparator+D)),i._setMatchFormat(h)),l},_clearButtonAction:function(){var t=this;null!==t.oData.oInputElement&&t._setValueOfElement(""),t.settings.isInline||t._hidePicker("")},_setOutputOnIncrementOrDecrement:function(){var e=this;t.cf._isValid(e.oData.oInputElement)&&e.settings.setValueInTextboxOnEveryClick&&e._setValueOfElement(e._setOutput())},_showPicker:function(e){var a=this;if(null===a.oData.oInputElement){a.oData.oInputElement=e,a.oData.iTabIndex=parseInt(t(e).attr("tabIndex"));var r,n,o,i,s,u,l,m,c=t(e).data("field")||"",d=t(e).data("min")||"",p=t(e).data("max")||"",D=t(e).data("format")||"",h=t(e).data("view")||"",f=t(e).data("startend")||"",g=t(e).data("startendelem")||"",M=a._getValueOfElement(e)||"";if(""!==h&&(t.cf._compare(h,"Popup")?a.setIsPopup(!0):a.setIsPopup(!1)),!a.settings.isPopup&&!a.settings.isInline){a._createPicker();var y=t(a.oData.oInputElement).offset().top+t(a.oData.oInputElement).outerHeight(),b=t(a.oData.oInputElement).offset().left,v=t(a.oData.oInputElement).outerWidth();t(a.element).css({position:"absolute",top:y,left:b,width:v,height:"auto"})}a.settings.beforeShow&&a.settings.beforeShow.call(a,e),c=t.cf._isValid(c)?c:a.settings.mode,a.settings.mode=c,t.cf._isValid(D)||(t.cf._compare(c,"date")?D=a.settings.dateFormat:t.cf._compare(c,"time")?D=a.settings.timeFormat:t.cf._compare(c,"datetime")&&(D=a.settings.dateTimeFormat)),a._matchFormat(c,D),a.oData.dMinValue=null,a.oData.dMaxValue=null,a.oData.bIs12Hour=!1,a.oData.bDateMode?(r=d||a.settings.minDate,n=p||a.settings.maxDate,a.oData.sDateFormat=D,t.cf._isValid(r)&&(a.oData.dMinValue=a._parseDate(r)),t.cf._isValid(n)&&(a.oData.dMaxValue=a._parseDate(n)),""!==f&&(t.cf._compare(f,"start")||t.cf._compare(f,"end"))&&""!==g&&t(g).length>=1&&""!==(o=a._getValueOfElement(t(g)))&&(i=a.settings.parseDateTimeString?a.settings.parseDateTimeString.call(a,o,c,D,t(g)):a._parseDate(o),t.cf._compare(f,"start")?t.cf._isValid(n)?a._compareDates(i,a.oData.dMaxValue)<0&&(a.oData.dMaxValue=new Date(i)):a.oData.dMaxValue=new Date(i):t.cf._compare(f,"end")&&(t.cf._isValid(r)?a._compareDates(i,a.oData.dMinValue)>0&&(a.oData.dMinValue=new Date(i)):a.oData.dMinValue=new Date(i))),a.settings.parseDateTimeString?a.oData.dCurrentDate=a.settings.parseDateTimeString.call(a,M,c,D,t(e)):a.oData.dCurrentDate=a._parseDate(M),a.oData.dCurrentDate.setHours(0),a.oData.dCurrentDate.setMinutes(0),a.oData.dCurrentDate.setSeconds(0)):a.oData.bTimeMode?(r=d||a.settings.minTime,n=p||a.settings.maxTime,a.oData.sTimeFormat=D,a.oData.bIs12Hour=a.getIs12Hour(),t.cf._isValid(r)&&(a.oData.dMinValue=a._parseTime(r),t.cf._isValid(n)||(a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[0]?n="11:59:59 PM":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[1]?n="23:59:59":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[2]?n="11:59 PM":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[3]&&(n="23:59"),a.oData.dMaxValue=a._parseTime(n))),t.cf._isValid(n)&&(a.oData.dMaxValue=a._parseTime(n),t.cf._isValid(r)||(a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[0]?r="12:00:00 AM":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[1]?r="00:00:00":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[2]?r="12:00 AM":a.oData.sTimeFormat===a.oData.sArrInputTimeFormats[3]&&(r="00:00"),a.oData.dMinValue=a._parseTime(r))),""!==f&&(t.cf._compare(f,"start")||t.cf._compare(f,"end"))&&""!==g&&t(g).length>=1&&""!==(s=a._getValueOfElement(t(g)))&&(a.settings.parseDateTimeString?i=a.settings.parseDateTimeString.call(a,s,c,D,t(g)):u=a._parseTime(s),t.cf._compare(f,"start")?(u.setMinutes(u.getMinutes()-1),t.cf._isValid(n)?2===a._compareTime(u,a.oData.dMaxValue)&&(a.oData.dMaxValue=new Date(u)):a.oData.dMaxValue=new Date(u)):t.cf._compare(f,"end")&&(u.setMinutes(u.getMinutes()+1),t.cf._isValid(r)?3===a._compareTime(u,a.oData.dMinValue)&&(a.oData.dMinValue=new Date(u)):a.oData.dMinValue=new Date(u))),a.settings.parseDateTimeString?a.oData.dCurrentDate=a.settings.parseDateTimeString.call(a,M,c,D,t(e)):a.oData.dCurrentDate=a._parseTime(M)):a.oData.bDateTimeMode&&(r=d||a.settings.minDateTime,n=p||a.settings.maxDateTime,a.oData.sDateTimeFormat=D,a.oData.bIs12Hour=a.getIs12Hour(),t.cf._isValid(r)&&(a.oData.dMinValue=a._parseDateTime(r)),t.cf._isValid(n)&&(a.oData.dMaxValue=a._parseDateTime(n)),""!==f&&(t.cf._compare(f,"start")||t.cf._compare(f,"end"))&&""!==g&&t(g).length>=1&&""!==(l=a._getValueOfElement(t(g)))&&(m=a.settings.parseDateTimeString?a.settings.parseDateTimeString.call(a,l,c,D,t(g)):a._parseDateTime(l),t.cf._compare(f,"start")?t.cf._isValid(n)?a._compareDateTime(m,a.oData.dMaxValue)<0&&(a.oData.dMaxValue=new Date(m)):a.oData.dMaxValue=new Date(m):t.cf._compare(f,"end")&&(t.cf._isValid(r)?a._compareDateTime(m,a.oData.dMinValue)>0&&(a.oData.dMinValue=new Date(m)):a.oData.dMinValue=new Date(m))),a.settings.parseDateTimeString?a.oData.dCurrentDate=a.settings.parseDateTimeString.call(a,M,c,D,t(e)):a.oData.dCurrentDate=a._parseDateTime(M)),a._setVariablesForDate(),a._modifyPicker(),t(a.element).fadeIn(a.settings.animationDuration),a.settings.afterShow&&setTimeout(function(){a.settings.afterShow.call(a,e)},a.settings.animationDuration)}},_hidePicker:function(e,a){var r=this,n=r.oData.oInputElement;r.settings.beforeHide&&r.settings.beforeHide.call(r,n),t.cf._isValid(e)||(e=r.settings.animationDuration),t.cf._isValid(r.oData.oInputElement)&&(t(r.oData.oInputElement).blur(),r.oData.oInputElement=null),t(r.element).fadeOut(e),0===e?t(r.element).find(".dtpicker-subcontent").html(""):setTimeout(function(){t(r.element).find(".dtpicker-subcontent").html("")},e),t(document).unbind("click.DateTimePicker keydown.DateTimePicker keyup.DateTimePicker"),r.settings.afterHide&&(0===e?r.settings.afterHide.call(r,n):setTimeout(function(){r.settings.afterHide.call(r,n)},e)),t.cf._isValid(a)&&r._showPicker(a)},_modifyPicker:function(){var e,a,r=this,n=[];r.oData.bDateMode?(e=r.settings.titleContentDate,a=3,r.oData.bArrMatchFormat[0]?n=["day","month","year"]:r.oData.bArrMatchFormat[1]?n=["month","day","year"]:r.oData.bArrMatchFormat[2]?n=["year","month","day"]:r.oData.bArrMatchFormat[3]?n=["day","month","year"]:r.oData.bArrMatchFormat[4]?(a=2,n=["month","year"]):r.oData.bArrMatchFormat[5]?(a=2,n=["month","year"]):r.oData.bArrMatchFormat[6]?(a=2,n=["month","year"]):r.oData.bArrMatchFormat[7]&&(a=2,n=["year","month"])):r.oData.bTimeMode?(e=r.settings.titleContentTime,r.oData.bArrMatchFormat[0]?(a=4,n=["hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[1]?(a=3,n=["hour","minutes","seconds"]):r.oData.bArrMatchFormat[2]?(a=3,n=["hour","minutes","meridiem"]):r.oData.bArrMatchFormat[3]&&(a=2,n=["hour","minutes"])):r.oData.bDateTimeMode&&(e=r.settings.titleContentDateTime,r.oData.bArrMatchFormat[0]?(a=6,n=["day","month","year","hour","minutes","seconds"]):r.oData.bArrMatchFormat[1]?(a=7,n=["day","month","year","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[2]?(a=6,n=["month","day","year","hour","minutes","seconds"]):r.oData.bArrMatchFormat[3]?(a=7,n=["month","day","year","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[4]?(a=6,n=["year","month","day","hour","minutes","seconds"]):r.oData.bArrMatchFormat[5]?(a=7,n=["year","month","day","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[6]?(a=6,n=["day","month","year","hour","minutes","seconds"]):r.oData.bArrMatchFormat[7]?(a=7,n=["day","month","year","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[8]?(a=5,n=["day","month","year","hour","minutes"]):r.oData.bArrMatchFormat[9]?(a=6,n=["day","month","year","hour","minutes","meridiem"]):r.oData.bArrMatchFormat[10]?(a=5,n=["month","day","year","hour","minutes"]):r.oData.bArrMatchFormat[11]?(a=6,n=["month","day","year","hour","minutes","meridiem"]):r.oData.bArrMatchFormat[12]?(a=5,n=["year","month","day","hour","minutes"]):r.oData.bArrMatchFormat[13]?(a=6,n=["year","month","day","hour","minutes","meridiem"]):r.oData.bArrMatchFormat[14]?(a=5,n=["day","month","year","hour","minutes"]):r.oData.bArrMatchFormat[15]&&(a=6,n=["day","month","year","hour","minutes","meridiem"]));var o,i="dtpicker-comp"+a,s=!1,u=!1,l=!1;for(o=0;o<r.settings.buttonsToDisplay.length;o++)t.cf._compare(r.settings.buttonsToDisplay[o],"HeaderCloseButton")?s=!0:t.cf._compare(r.settings.buttonsToDisplay[o],"SetButton")?u=!0:t.cf._compare(r.settings.buttonsToDisplay[o],"ClearButton")&&(l=!0);var m="";r.settings.showHeader&&(m+="<div class='dtpicker-header'>",m+="<div class='dtpicker-title'>"+e+"</div>",s&&(m+="<a class='dtpicker-close'>&times;</a>"),m+="<div class='dtpicker-value'></div>",m+="</div>");var c="";for(c+="<div class='dtpicker-components'>",o=0;o<a;o++){var d=n[o];c+="<div class='dtpicker-compOutline "+i+"'>",c+="<div class='dtpicker-comp "+d+"'>",c+="<a class='dtpicker-compButton increment'>"+r.settings.incrementButtonContent+"</a>",c+=r.settings.readonlyInputs?"<input type='text' class='dtpicker-compValue' readonly>":"<input type='text' class='dtpicker-compValue'>",c+="<a class='dtpicker-compButton decrement'>"+r.settings.decrementButtonContent+"</a>",r.settings.labels&&(c+="<div class='dtpicker-label'>"+r.settings.labels[d]+"</div>"),c+="</div>",c+="</div>"}c+="</div>";var p="";p+="<div class='dtpicker-buttonCont"+(u&&l?" dtpicker-twoButtons":" dtpicker-singleButton")+"'>",u&&(p+="<a class='dtpicker-button dtpicker-buttonSet'>"+r.settings.setButtonContent+"</a>"),l&&(p+="<a class='dtpicker-button dtpicker-buttonClear'>"+r.settings.clearButtonContent+"</a>");var D=m+c+(p+="</div>");t(r.element).find(".dtpicker-subcontent").html(D),r._setCurrentDate(),r._addEventHandlersForPicker()},_addEventHandlersForPicker:function(){var e,a,r=this;if(r.settings.isInline||t(document).on("click.DateTimePicker",function(t){r._hidePicker("")}),t(document).on("keydown.DateTimePicker",function(n){if(a=parseInt(n.keyCode?n.keyCode:n.which),!t(".dtpicker-compValue").is(":focus")&&9===a)return r._setButtonAction(!0),t("[tabIndex="+(r.oData.iTabIndex+1)+"]").focus(),!1;if(t(".dtpicker-compValue").is(":focus")){if(38===a)return e=t(".dtpicker-compValue:focus").parent().attr("class"),r._incrementDecrementActionsUsingArrowAndMouse(e,"inc"),!1;if(40===a)return e=t(".dtpicker-compValue:focus").parent().attr("class"),r._incrementDecrementActionsUsingArrowAndMouse(e,"dec"),!1}}),r.settings.isInline||t(document).on("keydown.DateTimePicker",function(e){a=parseInt(e.keyCode?e.keyCode:e.which),t(".dtpicker-compValue").is(":focus")||9===a||r._hidePicker("")}),t(".dtpicker-cont *").click(function(t){t.stopPropagation()}),r.settings.readonlyInputs||(t(".dtpicker-compValue").not(".month .dtpicker-compValue, .meridiem .dtpicker-compValue").keyup(function(){this.value=this.value.replace(/[^0-9\.]/g,"")}),t(".dtpicker-compValue").focus(function(){r.oData.bElemFocused=!0,t(this).select()}),t(".dtpicker-compValue").blur(function(){r._getValuesFromInputBoxes(),r._setCurrentDate(),r.oData.bElemFocused=!1;var e=t(this).parent().parent();setTimeout(function(){e.is(":last-child")&&!r.oData.bElemFocused&&r._setButtonAction(!1)},50)}),t(".dtpicker-compValue").keyup(function(e){var a,r=t(this),n=r.val(),o=n.length;r.parent().hasClass("day")||r.parent().hasClass("hour")||r.parent().hasClass("minutes")||r.parent().hasClass("meridiem")?o>2&&(a=n.slice(0,2),r.val(a)):r.parent().hasClass("month")?o>3&&(a=n.slice(0,3),r.val(a)):r.parent().hasClass("year")&&o>4&&(a=n.slice(0,4),r.val(a)),9===parseInt(e.keyCode?e.keyCode:e.which)&&t(this).select()})),t(r.element).find(".dtpicker-compValue").on("mousewheel DOMMouseScroll onmousewheel",function(a){if(t(".dtpicker-compValue").is(":focus")){var n=Math.max(-1,Math.min(1,a.originalEvent.wheelDelta));return n>0?(e=t(".dtpicker-compValue:focus").parent().attr("class"),r._incrementDecrementActionsUsingArrowAndMouse(e,"inc")):(e=t(".dtpicker-compValue:focus").parent().attr("class"),r._incrementDecrementActionsUsingArrowAndMouse(e,"dec")),!1}}),t(r.element).find(".dtpicker-close").click(function(t){r.settings.buttonClicked&&r.settings.buttonClicked.call(r,"CLOSE",r.oData.oInputElement),r.settings.isInline||r._hidePicker("")}),t(r.element).find(".dtpicker-buttonSet").click(function(t){r.settings.buttonClicked&&r.settings.buttonClicked.call(r,"SET",r.oData.oInputElement),r._setButtonAction(!1)}),t(r.element).find(".dtpicker-buttonClear").click(function(t){r.settings.buttonClicked&&r.settings.buttonClicked.call(r,"CLEAR",r.oData.oInputElement),r._clearButtonAction()}),r.settings.captureTouchHold||r.settings.captureMouseHold){var n="";r.settings.captureTouchHold&&r.oData.bIsTouchDevice&&(n+="touchstart touchmove touchend "),r.settings.captureMouseHold&&(n+="mousedown mouseup"),t(".dtpicker-cont *").on(n,function(t){r._clearIntervalForTouchEvents()}),r._bindTouchEvents("day"),r._bindTouchEvents("month"),r._bindTouchEvents("year"),r._bindTouchEvents("hour"),r._bindTouchEvents("minutes"),r._bindTouchEvents("seconds")}else t(r.element).find(".day .increment, .day .increment *").click(function(t){r.oData.iCurrentDay++,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".day .decrement, .day .decrement *").click(function(t){r.oData.iCurrentDay--,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".month .increment, .month .increment *").click(function(t){r.oData.iCurrentMonth++,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".month .decrement, .month .decrement *").click(function(t){r.oData.iCurrentMonth--,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".year .increment, .year .increment *").click(function(t){r.oData.iCurrentYear++,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".year .decrement, .year .decrement *").click(function(t){r.oData.iCurrentYear--,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".hour .increment, .hour .increment *").click(function(t){r.oData.iCurrentHour++,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".hour .decrement, .hour .decrement *").click(function(t){r.oData.iCurrentHour--,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".minutes .increment, .minutes .increment *").click(function(t){r.oData.iCurrentMinutes+=r.settings.minuteInterval,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".minutes .decrement, .minutes .decrement *").click(function(t){r.oData.iCurrentMinutes-=r.settings.minuteInterval,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".seconds .increment, .seconds .increment *").click(function(t){r.oData.iCurrentSeconds+=r.settings.secondsInterval,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()}),t(r.element).find(".seconds .decrement, .seconds .decrement *").click(function(t){r.oData.iCurrentSeconds-=r.settings.secondsInterval,r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()});t(r.element).find(".meridiem .dtpicker-compButton, .meridiem .dtpicker-compButton *").click(function(e){t.cf._compare(r.oData.sCurrentMeridiem,"AM")?(r.oData.sCurrentMeridiem="PM",r.oData.iCurrentHour+=12):t.cf._compare(r.oData.sCurrentMeridiem,"PM")&&(r.oData.sCurrentMeridiem="AM",r.oData.iCurrentHour-=12),r._setCurrentDate(),r._setOutputOnIncrementOrDecrement()})},_adjustMinutes:function(t){var e=this;return e.settings.roundOffMinutes&&1!==e.settings.minuteInterval&&(t=t%e.settings.minuteInterval?t-t%e.settings.minuteInterval+e.settings.minuteInterval:t),t},_adjustSeconds:function(t){var e=this;return e.settings.roundOffSeconds&&1!==e.settings.secondsInterval&&(t=t%e.settings.secondsInterval?t-t%e.settings.secondsInterval+e.settings.secondsInterval:t),t},_getValueOfElement:function(e){return t.cf._compare(t(e).prop("tagName"),"INPUT")?t(e).val():t(e).html()},_setValueOfElement:function(e,a){var r=this;t.cf._isValid(a)||(a=t(r.oData.oInputElement)),t.cf._compare(a.prop("tagName"),"INPUT")?a.val(e):a.html(e);var n=r.getDateObjectForInputField(a);return r.settings.settingValueOfElement&&r.settings.settingValueOfElement.call(r,e,n,a),a.change(),e},_bindTouchEvents:function(e){var a=this;t(a.element).find("."+e+" .increment, ."+e+" .increment *").on("touchstart mousedown",function(r){r.stopPropagation(),t.cf._isValid(a.oData.sTouchButton)||(a.oData.iTouchStart=(new Date).getTime(),a.oData.sTouchButton=e+"-inc",a._setIntervalForTouchEvents())}),t(a.element).find("."+e+" .increment, ."+e+" .increment *").on("touchend mouseup",function(t){t.stopPropagation(),a._clearIntervalForTouchEvents()}),t(a.element).find("."+e+" .decrement, ."+e+" .decrement *").on("touchstart mousedown",function(r){r.stopPropagation(),t.cf._isValid(a.oData.sTouchButton)||(a.oData.iTouchStart=(new Date).getTime(),a.oData.sTouchButton=e+"-dec",a._setIntervalForTouchEvents())}),t(a.element).find("."+e+" .decrement, ."+e+" .decrement *").on("touchend mouseup",function(t){t.stopPropagation(),a._clearIntervalForTouchEvents()})},_setIntervalForTouchEvents:function(){var e=this,a=e.oData.bIsTouchDevice?e.settings.touchHoldInterval:e.settings.mouseHoldInterval;t.cf._isValid(e.oData.oTimeInterval)||(e.oData.oTimeInterval=setInterval(function(){(new Date).getTime()-e.oData.iTouchStart>a&&t.cf._isValid(e.oData.sTouchButton)&&("day-inc"===e.oData.sTouchButton?e.oData.iCurrentDay++:"day-dec"===e.oData.sTouchButton?e.oData.iCurrentDay--:"month-inc"===e.oData.sTouchButton?e.oData.iCurrentMonth++:"month-dec"===e.oData.sTouchButton?e.oData.iCurrentMonth--:"year-inc"===e.oData.sTouchButton?e.oData.iCurrentYear++:"year-dec"===e.oData.sTouchButton?e.oData.iCurrentYear--:"hour-inc"===e.oData.sTouchButton?e.oData.iCurrentHour++:"hour-dec"===e.oData.sTouchButton?e.oData.iCurrentHour--:"minute-inc"===e.oData.sTouchButton?e.oData.iCurrentMinutes+=e.settings.minuteInterval:"minute-dec"===e.oData.sTouchButton?e.oData.iCurrentMinutes-=e.settings.minuteInterval:"second-inc"===e.oData.sTouchButton?e.oData.iCurrentSeconds+=e.settings.secondsInterval:"second-dec"===e.oData.sTouchButton&&(e.oData.iCurrentSeconds-=e.settings.secondsInterval),e._setCurrentDate(),e._setOutputOnIncrementOrDecrement(),e.oData.iTouchStart=(new Date).getTime())},a))},_clearIntervalForTouchEvents:function(){var e=this;clearInterval(e.oData.oTimeInterval),t.cf._isValid(e.oData.sTouchButton)&&(e.oData.sTouchButton=null,e.oData.iTouchStart=0),e.oData.oTimeInterval=null},_incrementDecrementActionsUsingArrowAndMouse:function(t,e){var a=this;t.includes("day")?"inc"===e?a.oData.iCurrentDay++:"dec"===e&&a.oData.iCurrentDay--:t.includes("month")?"inc"===e?a.oData.iCurrentMonth++:"dec"===e&&a.oData.iCurrentMonth--:t.includes("year")?"inc"===e?a.oData.iCurrentYear++:"dec"===e&&a.oData.iCurrentYear--:t.includes("hour")?"inc"===e?a.oData.iCurrentHour++:"dec"===e&&a.oData.iCurrentHour--:t.includes("minutes")?"inc"===e?a.oData.iCurrentMinutes+=a.settings.minuteInterval:"dec"===e&&(a.oData.iCurrentMinutes-=a.settings.minuteInterval):t.includes("seconds")&&("inc"===e?a.oData.iCurrentSeconds+=a.settings.secondsInterval:"dec"===e&&(a.oData.iCurrentSeconds-=a.settings.secondsInterval)),a._setCurrentDate(),a._setOutputOnIncrementOrDecrement()},_parseDate:function(e){var a=this,r=a.settings.defaultDate?new Date(a.settings.defaultDate):new Date,n=r.getDate(),o=r.getMonth(),i=r.getFullYear();if(t.cf._isValid(e))if("string"==typeof e){var s;s=a.oData.bArrMatchFormat[4]||a.oData.bArrMatchFormat[5]||a.oData.bArrMatchFormat[6]?e.split(a.settings.monthYearSeparator):e.split(a.settings.dateSeparator),a.oData.bArrMatchFormat[0]?(n=parseInt(s[0]),o=parseInt(s[1]-1),i=parseInt(s[2])):a.oData.bArrMatchFormat[1]?(o=parseInt(s[0]-1),n=parseInt(s[1]),i=parseInt(s[2])):a.oData.bArrMatchFormat[2]?(i=parseInt(s[0]),o=parseInt(s[1]-1),n=parseInt(s[2])):a.oData.bArrMatchFormat[3]?(n=parseInt(s[0]),o=a._getShortMonthIndex(s[1]),i=parseInt(s[2])):a.oData.bArrMatchFormat[4]?(n=1,o=parseInt(s[0])-1,i=parseInt(s[1])):a.oData.bArrMatchFormat[5]?(n=1,o=a._getShortMonthIndex(s[0]),i=parseInt(s[1])):a.oData.bArrMatchFormat[6]?(n=1,o=a._getFullMonthIndex(s[0]),i=parseInt(s[1])):a.oData.bArrMatchFormat[7]&&(n=1,o=parseInt(s[1])-1,i=parseInt(s[0]))}else n=e.getDate(),o=e.getMonth(),i=e.getFullYear();return r=new Date(i,o,n,0,0,0,0)},_parseTime:function(e){var a,r,n,o=this,i=o.settings.defaultDate?new Date(o.settings.defaultDate):new Date,s=i.getDate(),u=i.getMonth(),l=i.getFullYear(),m=i.getHours(),c=i.getMinutes(),d=i.getSeconds(),p=o.oData.bArrMatchFormat[0]||o.oData.bArrMatchFormat[1];return d=p?o._adjustSeconds(d):0,t.cf._isValid(e)&&("string"==typeof e?(o.oData.bIs12Hour&&(a=e.split(o.settings.timeMeridiemSeparator),e=a[0],r=a[1],t.cf._compare(r,"AM")||t.cf._compare(r,"PM")||(r="")),n=e.split(o.settings.timeSeparator),m=parseInt(n[0]),c=parseInt(n[1]),p&&(d=parseInt(n[2]),d=o._adjustSeconds(d)),12===m&&t.cf._compare(r,"AM")?m=0:m<12&&t.cf._compare(r,"PM")&&(m+=12)):(m=e.getHours(),c=e.getMinutes(),p&&(d=e.getSeconds(),d=o._adjustSeconds(d)))),c=o._adjustMinutes(c),i=new Date(l,u,s,m,c,d,0)},_parseDateTime:function(e){var a,r,n,o,i,s=this,u=s.settings.defaultDate?new Date(s.settings.defaultDate):new Date,l=u.getDate(),m=u.getMonth(),c=u.getFullYear(),d=u.getHours(),p=u.getMinutes(),D=u.getSeconds(),h="",f=s.oData.bArrMatchFormat[0]||s.oData.bArrMatchFormat[1]||s.oData.bArrMatchFormat[2]||s.oData.bArrMatchFormat[3]||s.oData.bArrMatchFormat[4]||s.oData.bArrMatchFormat[5]||s.oData.bArrMatchFormat[6]||s.oData.bArrMatchFormat[7];return D=f?s._adjustSeconds(D):0,t.cf._isValid(e)&&("string"==typeof e?(a=e.split(s.settings.dateTimeSeparator),r=a[0].split(s.settings.dateSeparator),s.oData.bArrMatchFormat[0]||s.oData.bArrMatchFormat[1]||s.oData.bArrMatchFormat[8]||s.oData.bArrMatchFormat[9]?(l=parseInt(r[0]),m=parseInt(r[1]-1),c=parseInt(r[2])):s.oData.bArrMatchFormat[2]||s.oData.bArrMatchFormat[3]||s.oData.bArrMatchFormat[10]||s.oData.bArrMatchFormat[11]?(m=parseInt(r[0]-1),l=parseInt(r[1]),c=parseInt(r[2])):s.oData.bArrMatchFormat[4]||s.oData.bArrMatchFormat[5]||s.oData.bArrMatchFormat[12]||s.oData.bArrMatchFormat[13]?(c=parseInt(r[0]),m=parseInt(r[1]-1),l=parseInt(r[2])):(s.oData.bArrMatchFormat[6]||s.oData.bArrMatchFormat[7]||s.oData.bArrMatchFormat[14]||s.oData.bArrMatchFormat[15])&&(l=parseInt(r[0]),m=s._getShortMonthIndex(r[1]),c=parseInt(r[2])),n=a[1],t.cf._isValid(n)&&(s.oData.bIs12Hour&&(t.cf._compare(s.settings.dateTimeSeparator,s.settings.timeMeridiemSeparator)&&3===a.length?h=a[2]:(o=n.split(s.settings.timeMeridiemSeparator),n=o[0],h=o[1]),t.cf._compare(h,"AM")||t.cf._compare(h,"PM")||(h="")),i=n.split(s.settings.timeSeparator),d=parseInt(i[0]),p=parseInt(i[1]),f&&(D=parseInt(i[2])),12===d&&t.cf._compare(h,"AM")?d=0:d<12&&t.cf._compare(h,"PM")&&(d+=12))):(l=e.getDate(),m=e.getMonth(),c=e.getFullYear(),d=e.getHours(),p=e.getMinutes(),f&&(D=e.getSeconds(),D=s._adjustSeconds(D)))),p=s._adjustMinutes(p),u=new Date(c,m,l,d,p,D,0)},_getShortMonthIndex:function(e){for(var a=0;a<this.settings.shortMonthNames.length;a++)if(t.cf._compare(e,this.settings.shortMonthNames[a]))return a},_getFullMonthIndex:function(e){for(var a=0;a<this.settings.fullMonthNames.length;a++)if(t.cf._compare(e,this.settings.fullMonthNames[a]))return a},getIs12Hour:function(t,e){var a=this,r=!1,n=Function.length;return a._setMatchFormat(n,t,e),a.oData.bTimeMode?r=a.oData.bArrMatchFormat[0]||a.oData.bArrMatchFormat[2]:a.oData.bDateTimeMode&&(r=a.oData.bArrMatchFormat[1]||a.oData.bArrMatchFormat[3]||a.oData.bArrMatchFormat[5]||a.oData.bArrMatchFormat[7]||a.oData.bArrMatchFormat[9]||a.oData.bArrMatchFormat[11]||a.oData.bArrMatchFormat[13]||a.oData.bArrMatchFormat[15]),a._setMatchFormat(n),r},_setVariablesForDate:function(e,a,r){var n,o=this,i={},s=t.cf._isValid(e);return s?(n=new Date(e),t.cf._isValid(a)||(a=!0),t.cf._isValid(r)||(r=!0)):(n="[object Date]"===Object.prototype.toString.call(o.oData.dCurrentDate)&&isFinite(o.oData.dCurrentDate)?new Date(o.oData.dCurrentDate):new Date,t.cf._isValid(a)||(a=o.oData.bTimeMode||o.oData.bDateTimeMode),t.cf._isValid(r)||(r=o.oData.bIs12Hour)),i.iCurrentDay=n.getDate(),i.iCurrentMonth=n.getMonth(),i.iCurrentYear=n.getFullYear(),i.iCurrentWeekday=n.getDay(),a&&(i.iCurrentHour=n.getHours(),i.iCurrentMinutes=n.getMinutes(),i.iCurrentSeconds=n.getSeconds(),r&&(i.sCurrentMeridiem=o._determineMeridiemFromHourAndMinutes(i.iCurrentHour,i.iCurrentMinutes))),s?i:void(o.oData=t.extend(o.oData,i))},_getValuesFromInputBoxes:function(){var e,a,r,n,o,i,s=this;(s.oData.bDateMode||s.oData.bDateTimeMode)&&((e=t(s.element).find(".month .dtpicker-compValue").val()).length>1&&(e=e.charAt(0).toUpperCase()+e.slice(1)),-1!==(a=s.settings.shortMonthNames.indexOf(e))?s.oData.iCurrentMonth=parseInt(a):e.match("^[+|-]?[0-9]+$")&&(s.oData.iCurrentMonth=parseInt(e-1)),s.oData.iCurrentDay=parseInt(t(s.element).find(".day .dtpicker-compValue").val())||s.oData.iCurrentDay,s.oData.iCurrentYear=parseInt(t(s.element).find(".year .dtpicker-compValue").val())||s.oData.iCurrentYear),(s.oData.bTimeMode||s.oData.bDateTimeMode)&&(r=parseInt(t(s.element).find(".hour .dtpicker-compValue").val()),n=s._adjustMinutes(parseInt(t(s.element).find(".minutes .dtpicker-compValue").val())),o=s._adjustMinutes(parseInt(t(s.element).find(".seconds .dtpicker-compValue").val())),s.oData.iCurrentHour=isNaN(r)?s.oData.iCurrentHour:r,s.oData.iCurrentMinutes=isNaN(n)?s.oData.iCurrentMinutes:n,s.oData.iCurrentSeconds=isNaN(o)?s.oData.iCurrentSeconds:o,s.oData.iCurrentSeconds>59&&(s.oData.iCurrentMinutes+=s.oData.iCurrentSeconds/60,s.oData.iCurrentSeconds=s.oData.iCurrentSeconds%60),s.oData.iCurrentMinutes>59&&(s.oData.iCurrentHour+=s.oData.iCurrentMinutes/60,s.oData.iCurrentMinutes=s.oData.iCurrentMinutes%60),s.oData.bIs12Hour?s.oData.iCurrentHour>12&&(s.oData.iCurrentHour=s.oData.iCurrentHour%12):s.oData.iCurrentHour>23&&(s.oData.iCurrentHour=s.oData.iCurrentHour%23),s.oData.bIs12Hour&&(i=t(s.element).find(".meridiem .dtpicker-compValue").val(),(t.cf._compare(i,"AM")||t.cf._compare(i,"PM"))&&(s.oData.sCurrentMeridiem=i),t.cf._compare(s.oData.sCurrentMeridiem,"PM")&&12!==s.oData.iCurrentHour&&s.oData.iCurrentHour<13&&(s.oData.iCurrentHour+=12),t.cf._compare(s.oData.sCurrentMeridiem,"AM")&&12===s.oData.iCurrentHour&&(s.oData.iCurrentHour=0)))},_setCurrentDate:function(){var e=this;(e.oData.bTimeMode||e.oData.bDateTimeMode)&&(e.oData.iCurrentSeconds>59?(e.oData.iCurrentMinutes+=e.oData.iCurrentSeconds/60,e.oData.iCurrentSeconds=e.oData.iCurrentSeconds%60):e.oData.iCurrentSeconds<0&&(e.oData.iCurrentMinutes-=e.settings.minuteInterval,e.oData.iCurrentSeconds+=60),e.oData.iCurrentMinutes=e._adjustMinutes(e.oData.iCurrentMinutes),e.oData.iCurrentSeconds=e._adjustSeconds(e.oData.iCurrentSeconds));var a,r,n,o,i,s,u,l=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),m=!1,c=!1;if(null!==e.oData.dMaxValue&&(m=l.getTime()>e.oData.dMaxValue.getTime()),null!==e.oData.dMinValue&&(c=l.getTime()<e.oData.dMinValue.getTime()),m||c){var d=!1,p=!1;null!==e.oData.dMaxValue&&(d=e.oData.dCurrentDate.getTime()>e.oData.dMaxValue.getTime()),null!==e.oData.dMinValue&&(p=e.oData.dCurrentDate.getTime()<e.oData.dMinValue.getTime()),d||p?(d&&(l=new Date(e.oData.dMaxValue)),p&&(l=new Date(e.oData.dMinValue))):l=new Date(e.oData.dCurrentDate)}if(e.oData.dCurrentDate=new Date(l),e._setVariablesForDate(),r={},i="",s="",u="",(e.oData.bDateMode||e.oData.bDateTimeMode)&&(e.oData.bDateMode&&(e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[5]||e.oData.bArrMatchFormat[6])&&(e.oData.iCurrentDay=1),n=e._formatDate(),t(e.element).find(".day .dtpicker-compValue").val(n.dd),e.oData.bDateMode?e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[7]?t(e.element).find(".month .dtpicker-compValue").val(n.MM):e.oData.bArrMatchFormat[6]?t(e.element).find(".month .dtpicker-compValue").val(n.month):t(e.element).find(".month .dtpicker-compValue").val(n.monthShort):t(e.element).find(".month .dtpicker-compValue").val(n.monthShort),t(e.element).find(".year .dtpicker-compValue").val(n.yyyy),e.settings.formatHumanDate?r=t.extend(r,n):e.oData.bDateMode&&(e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[5]||e.oData.bArrMatchFormat[6]||e.oData.bArrMatchFormat[7])?e.oData.bArrMatchFormat[4]?i=n.MM+e.settings.monthYearSeparator+n.yyyy:e.oData.bArrMatchFormat[5]?i=n.monthShort+e.settings.monthYearSeparator+n.yyyy:e.oData.bArrMatchFormat[6]?i=n.month+e.settings.monthYearSeparator+n.yyyy:e.oData.bArrMatchFormat[7]&&(i=n.yyyy+e.settings.monthYearSeparator+n.MM):i=n.dayShort+", "+n.month+" "+n.dd+", "+n.yyyy),e.oData.bTimeMode||e.oData.bDateTimeMode)if(o=e._formatTime(),e.oData.bIs12Hour&&t(e.element).find(".meridiem .dtpicker-compValue").val(e.oData.sCurrentMeridiem),t(e.element).find(".hour .dtpicker-compValue").val(o.hour),t(e.element).find(".minutes .dtpicker-compValue").val(o.mm),t(e.element).find(".seconds .dtpicker-compValue").val(o.ss),e.settings.formatHumanDate)r=t.extend(r,o);else{var D=e.oData.bTimeMode&&(e.oData.bArrMatchFormat[0]||e.oData.bArrMatchFormat[1]),h=e.oData.bDateTimeMode&&(e.oData.bArrMatchFormat[0]||e.oData.bArrMatchFormat[1]||e.oData.bArrMatchFormat[2]||e.oData.bArrMatchFormat[3]||e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[5]||e.oData.bArrMatchFormat[6]||e.oData.bArrMatchFormat[7]);s=D||h?o.hour+e.settings.timeSeparator+o.mm+e.settings.timeSeparator+o.ss:o.hour+e.settings.timeSeparator+o.mm,e.oData.bIs12Hour&&(s+=e.settings.timeMeridiemSeparator+e.oData.sCurrentMeridiem)}e.settings.formatHumanDate?(e.oData.bDateTimeMode?a=e.oData.sDateFormat:e.oData.bDateMode?a=e.oData.sTimeFormat:e.oData.bTimeMode&&(a=e.oData.sDateTimeFormat),u=e.settings.formatHumanDate.call(e,r,e.settings.mode,a)):e.oData.bDateTimeMode?u=i+e.settings.dateTimeSeparator+s:e.oData.bDateMode?u=i:e.oData.bTimeMode&&(u=s),t(e.element).find(".dtpicker-value").html(u),e._setButtons()},_formatDate:function(e){var a,r,n,o,i,s,u,l,m,c=this,d={};return t.cf._isValid(e)?d=t.extend({},e):(d.iCurrentDay=c.oData.iCurrentDay,d.iCurrentMonth=c.oData.iCurrentMonth,d.iCurrentYear=c.oData.iCurrentYear,d.iCurrentWeekday=c.oData.iCurrentWeekday),a=(a=d.iCurrentDay)<10?"0"+a:a,n=d.iCurrentMonth,o=(o=d.iCurrentMonth+1)<10?"0"+o:o,i=c.settings.shortMonthNames[n],s=c.settings.fullMonthNames[n],r=d.iCurrentYear,u=d.iCurrentWeekday,l=c.settings.shortDayNames[u],m=c.settings.fullDayNames[u],{dd:a,MM:o,monthShort:i,month:s,yyyy:r,dayShort:l,day:m}},_formatTime:function(e){var a,r,n,o,i,s,u,l=this,m={};return t.cf._isValid(e)?m=t.extend({},e):(m.iCurrentHour=l.oData.iCurrentHour,m.iCurrentMinutes=l.oData.iCurrentMinutes,m.iCurrentSeconds=l.oData.iCurrentSeconds,m.sCurrentMeridiem=l.oData.sCurrentMeridiem),a=m.iCurrentHour,i=r=a<10?"0"+a:a,(n=m.iCurrentHour)>12&&(n-=12),"00"===i&&(n=12),o=n<10?"0"+n:n,l.oData.bIs12Hour&&(i=o),s=(s=m.iCurrentMinutes)<10?"0"+s:s,u=(u=m.iCurrentSeconds)<10?"0"+u:u,{H:a,HH:r,h:n,hh:o,hour:i,m:m.iCurrentMinutes,mm:s,s:m.iCurrentSeconds,ss:u,ME:m.sCurrentMeridiem}},_setButtons:function(){var e,a,r,n=this;t(n.element).find(".dtpicker-compButton").removeClass("dtpicker-compButtonDisable").addClass("dtpicker-compButtonEnable"),null!==n.oData.dMaxValue&&(n.oData.bTimeMode?((n.oData.iCurrentHour+1>n.oData.dMaxValue.getHours()||n.oData.iCurrentHour+1===n.oData.dMaxValue.getHours()&&n.oData.iCurrentMinutes>n.oData.dMaxValue.getMinutes())&&t(n.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),n.oData.iCurrentHour>=n.oData.dMaxValue.getHours()&&n.oData.iCurrentMinutes+1>n.oData.dMaxValue.getMinutes()&&t(n.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):((e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth,n.oData.iCurrentDay+1,n.oData.iCurrentHour,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds,0)).getTime()>n.oData.dMaxValue.getTime()&&t(n.element).find(".day .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth+1,n.oData.iCurrentDay,n.oData.iCurrentHour,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds,0)).getTime()>n.oData.dMaxValue.getTime()&&t(n.element).find(".month .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear+1,n.oData.iCurrentMonth,n.oData.iCurrentDay,n.oData.iCurrentHour,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds,0)).getTime()>n.oData.dMaxValue.getTime()&&t(n.element).find(".year .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth,n.oData.iCurrentDay,n.oData.iCurrentHour+1,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds,0)).getTime()>n.oData.dMaxValue.getTime()&&t(n.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth,n.oData.iCurrentDay,n.oData.iCurrentHour,n.oData.iCurrentMinutes+1,n.oData.iCurrentSeconds,0)).getTime()>n.oData.dMaxValue.getTime()&&t(n.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth,n.oData.iCurrentDay,n.oData.iCurrentHour,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds+1,0)).getTime()>n.oData.dMaxValue.getTime()&&t(n.element).find(".seconds .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),null!==n.oData.dMinValue&&(n.oData.bTimeMode?((n.oData.iCurrentHour-1<n.oData.dMinValue.getHours()||n.oData.iCurrentHour-1===n.oData.dMinValue.getHours()&&n.oData.iCurrentMinutes<n.oData.dMinValue.getMinutes())&&t(n.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),n.oData.iCurrentHour<=n.oData.dMinValue.getHours()&&n.oData.iCurrentMinutes-1<n.oData.dMinValue.getMinutes()&&t(n.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):((e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth,n.oData.iCurrentDay-1,n.oData.iCurrentHour,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds,0)).getTime()<n.oData.dMinValue.getTime()&&t(n.element).find(".day .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth-1,n.oData.iCurrentDay,n.oData.iCurrentHour,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds,0)).getTime()<n.oData.dMinValue.getTime()&&t(n.element).find(".month .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear-1,n.oData.iCurrentMonth,n.oData.iCurrentDay,n.oData.iCurrentHour,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds,0)).getTime()<n.oData.dMinValue.getTime()&&t(n.element).find(".year .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth,n.oData.iCurrentDay,n.oData.iCurrentHour-1,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds,0)).getTime()<n.oData.dMinValue.getTime()&&t(n.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth,n.oData.iCurrentDay,n.oData.iCurrentHour,n.oData.iCurrentMinutes-1,n.oData.iCurrentSeconds,0)).getTime()<n.oData.dMinValue.getTime()&&t(n.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),(e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth,n.oData.iCurrentDay,n.oData.iCurrentHour,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds-1,0)).getTime()<n.oData.dMinValue.getTime()&&t(n.element).find(".seconds .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),n.oData.bIs12Hour&&(null===n.oData.dMaxValue&&null===n.oData.dMinValue||(a=n.oData.iCurrentHour,t.cf._compare(n.oData.sCurrentMeridiem,"AM")?a+=12:t.cf._compare(n.oData.sCurrentMeridiem,"PM")&&(a-=12),e=new Date(n.oData.iCurrentYear,n.oData.iCurrentMonth,n.oData.iCurrentDay,a,n.oData.iCurrentMinutes,n.oData.iCurrentSeconds,0),null!==n.oData.dMaxValue&&(n.oData.bTimeMode?(r=n.oData.iCurrentMinutes,(a>n.oData.dMaxValue.getHours()||a===n.oData.dMaxValue.getHours()&&r>n.oData.dMaxValue.getMinutes())&&t(n.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):e.getTime()>n.oData.dMaxValue.getTime()&&t(n.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")),null!==n.oData.dMinValue&&(n.oData.bTimeMode?(r=n.oData.iCurrentMinutes,(a<n.oData.dMinValue.getHours()||a===n.oData.dMinValue.getHours()&&r<n.oData.dMinValue.getMinutes())&&t(n.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):e.getTime()<n.oData.dMinValue.getTime()&&t(n.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))))},setIsPopup:function(e){var a=this;if(!a.settings.isInline)if(a.settings.isPopup=e,"none"!==t(a.element).css("display")&&a._hidePicker(0),a.settings.isPopup)t(a.element).addClass("dtpicker-mobile"),t(a.element).css({position:"fixed",top:0,left:0,width:"100%",height:"100%"});else if(t(a.element).removeClass("dtpicker-mobile"),null!==a.oData.oInputElement){var r=t(a.oData.oInputElement).offset().top+t(a.oData.oInputElement).outerHeight(),n=t(a.oData.oInputElement).offset().left,o=t(a.oData.oInputElement).outerWidth();t(a.element).css({position:"absolute",top:r,left:n,width:o,height:"auto"})}},_compareDates:function(t,e){var a=((t=new Date(t.getDate(),t.getMonth(),t.getFullYear(),0,0,0,0)).getTime()-e.getTime())/864e5;return 0===a?a:a/Math.abs(a)},_compareTime:function(t,e){var a=0;return t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()?a=1:t.getHours()<e.getHours()?a=2:t.getHours()>e.getHours()?a=3:t.getHours()===e.getHours()&&(t.getMinutes()<e.getMinutes()?a=2:t.getMinutes()>e.getMinutes()&&(a=3)),a},_compareDateTime:function(t,e){var a=(t.getTime()-e.getTime())/6e4;return 0===a?a:a/Math.abs(a)},_determineMeridiemFromHourAndMinutes:function(t,e){return t>12||12===t&&e>=0?"PM":"AM"},setLanguage:function(e){var a=this;return a.settings=t.extend({},t.DateTimePicker.defaults,t.DateTimePicker.i18n[e],a.options),a.settings.language=e,a._setDateFormatArray(),a._setTimeFormatArray(),a._setDateTimeFormatArray(),a}}})?r.apply(e,n):r)||(t.exports=o)},function(t,e){t.exports=jQuery}]);
//# sourceMappingURL=forum.js.map