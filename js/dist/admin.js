(()=>{var s={n:t=>{var l=t&&t.__esModule?()=>t.default:()=>t;return s.d(l,{a:l}),l},d:(t,l)=>{for(var o in l)s.o(l,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:l[o]})},o:(s,t)=>Object.prototype.hasOwnProperty.call(s,t),r:s=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}},t={};(()=>{"use strict";s.r(t),s.d(t,{components:()=>f});const l=flarum.core.compat["admin/app"];var o=s.n(l);function e(s,t){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,t){return s.__proto__=t,s},e(s,t)}const a=flarum.core.compat["admin/components/ExtensionPage"];var n=s.n(a);const i=flarum.core.compat["common/utils/ItemList"];var r=s.n(i),p=function(s){function t(){return s.apply(this,arguments)||this}var l,a;a=s,(l=t).prototype=Object.create(a.prototype),l.prototype.constructor=l,e(l,a);var n=t.prototype;return n.content=function(){return m("div",{className:"PollsSettingsPage"},m("div",{className:"container"},m("div",{className:"PollsSettingsTabPage PollsSettingsPage--settings"},m("div",{className:"Form"},this.settingsItems().toArray(),m("div",{className:"Form-group"},this.submitButton())))))},n.settingsItems=function(){var s=new(r());return s.add("general",m("div",{className:"Section"},m("h3",null,o().translator.trans("fof-polls.admin.settings.general.heading")),m("p",{className:"helpText"},o().translator.trans("fof-polls.admin.settings.general.help")),this.generalItems().toArray())),s.add("globalPolls",m("div",{className:"Section"},m("h3",null,o().translator.trans("fof-polls.admin.settings.global_polls.heading")),m("p",{className:"helpText"},o().translator.trans("fof-polls.admin.settings.global_polls.help")),this.globalPollsItems().toArray())),s.add("image",m("div",{className:"Section"},m("h3",null,o().translator.trans("fof-polls.admin.settings.image.heading")),m("p",{className:"helpText"},o().translator.trans("fof-polls.admin.settings.image.help")),this.imageItems().toArray())),s},n.generalItems=function(){var s=new(r());return s.add("colorBlend",this.buildSettingComponent({setting:"fof-polls.optionsColorBlend",type:"switch",label:o().translator.trans("fof-polls.admin.settings.options_color_blend"),help:o().translator.trans("fof-polls.admin.settings.options_color_blend_help")})),s.add("maxOptions",this.buildSettingComponent({setting:"fof-polls.maxOptions",type:"number",label:o().translator.trans("fof-polls.admin.settings.max_options"),min:2})),s},n.globalPollsItems=function(){var s=this,t=new(r());return t.add("enableGlobalPolls",this.buildSettingComponent({setting:"fof-polls.enableGlobalPolls",type:"boolean",label:o().translator.trans("fof-polls.admin.settings.enable_global_polls"),help:o().translator.trans("fof-polls.admin.settings.enable_global_polls_help")})),t.add("enabledPollGroups",this.buildSettingComponent({setting:"fof-polls.enablePollGroups",type:"boolean",label:o().translator.trans("fof-polls.admin.settings.enabled_poll_groups"),help:o().translator.trans("fof-polls.admin.settings.enabled_poll_groups_help"),disabled:!1===this.setting("fof-polls.enableGlobalPolls")()})),this.onsaved=function(){s.loading=!1,o().alerts.show({type:"success"},o().translator.trans("core.admin.settings.saved_message")),t.setContent("enabledPollGroups",s.buildSettingComponent({setting:"fof-polls.enablePollGroups",type:"boolean",label:o().translator.trans("fof-polls.admin.settings.enabled_poll_groups"),help:o().translator.trans("fof-polls.admin.settings.enabled_poll_groups_help"),disabled:!1===s.setting("fof-polls.enableGlobalPolls")()})),m.redraw()},t},n.imageItems=function(){var s=new(r());return s.add("allowOptionImage",this.buildSettingComponent({setting:"fof-polls.allowOptionImage",type:"switch",label:o().translator.trans("fof-polls.admin.settings.allow_option_image")})),s.add("allowImageUploads",this.buildSettingComponent({setting:"fof-polls.allowImageUploads",type:"switch",label:o().translator.trans("fof-polls.admin.settings.allow_image_uploads"),help:o().translator.trans("fof-polls.admin.settings.allow_image_uploads_help")})),s.add("imageHeight",this.buildSettingComponent({setting:"fof-polls.image_height",type:"number",label:o().translator.trans("fof-polls.admin.settings.image_height")})),s.add("imageWidth",this.buildSettingComponent({setting:"fof-polls.image_width",type:"number",label:o().translator.trans("fof-polls.admin.settings.image_width")})),s},t}(n()),f={PollsSettingsPage:p};o().initializers.add("fof/polls",(function(){o().extensionData.for("fof-polls").registerPage(p).registerPermission({icon:"fas fa-poll",label:o().translator.trans("fof-polls.admin.permissions.view_results_without_voting"),permission:"discussion.polls.viewResultsWithoutVoting",allowGuest:!0},"view").registerPermission({icon:"fas fa-poll",label:o().translator.trans("fof-polls.admin.permissions.start"),permission:"discussion.polls.start"},"start").registerPermission({icon:"fas fa-poll",label:o().translator.trans("fof-polls.admin.permissions.start_global"),permission:"startGlobalPoll"},"start").registerPermission({icon:"fas fa-pencil-alt",label:o().translator.trans("fof-polls.admin.permissions.self_edit"),permission:"polls.selfEdit"},"start").registerPermission({icon:"fas fa-pencil-alt",label:o().translator.trans("fof-polls.admin.permissions.self_post_edit"),permission:"polls.selfPostEdit"},"start").registerPermission({icon:"fas fa-image",label:o().translator.trans("fof-polls.admin.permissions.upload_images"),permission:"uploadPollImages"},"start").registerPermission({icon:"fas fa-poll",label:o().translator.trans("fof-polls.admin.permissions.vote"),permission:"discussion.polls.vote"},"reply").registerPermission({icon:"fas fa-poll",label:o().translator.trans("fof-polls.admin.permissions.change_vote"),permission:"polls.changeVote"},"reply").registerPermission({icon:"fas fa-pencil-alt",label:o().translator.trans("fof-polls.admin.permissions.moderate"),permission:"discussion.polls.moderate"},"moderate").registerPermission({icon:"fas fa-poll",label:o().translator.trans("fof-polls.admin.permissions.view_group"),permission:"viewPollGroups",allowGuest:!0},"view").registerPermission({icon:"fas fa-plus",label:o().translator.trans("fof-polls.admin.permissions.start_group"),permission:"startPollGroup"},"start").registerPermission({icon:"fas fa-edit",label:o().translator.trans("fof-polls.admin.permissions.moderate_group"),permission:"polls.moderate_group"},"moderate")}))})(),module.exports=t})();
//# sourceMappingURL=admin.js.map